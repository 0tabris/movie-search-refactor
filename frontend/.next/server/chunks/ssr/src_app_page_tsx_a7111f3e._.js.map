{"version":3,"sources":["turbopack:///[project]/src/app/page.tsx","turbopack:///[project]/src/components/ui/input.tsx","turbopack:///[project]/src/components/searchBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { useSearchMovies, useAddToFavorites, useRemoveFromFavorites } from '@/hooks/useMovies';\r\nimport { Movie } from '@/types/movie';\r\nimport SearchBar from '@/components/searchBar';\r\nimport MovieCard from '@/components/MovieCard';\r\nimport Pagination from '@/components/pagination';\r\n\r\nexport default function SearchPage() {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchEnabled, setSearchEnabled] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const { data: searchResults, isLoading, error } = useSearchMovies(searchQuery, currentPage, searchEnabled);\r\n  const addToFavorites = useAddToFavorites();\r\n  const removeFromFavorites = useRemoveFromFavorites();\r\n\r\n  const totalPages = useMemo(() => {\r\n    if (!searchResults?.data.totalResults) return 0;\r\n    const total = parseInt(searchResults.data.totalResults, 10);\r\n    return Math.ceil(total / 10);\r\n  }, [searchResults?.data.totalResults]);\r\n\r\n  const handleSearch = (query: string) => {\r\n    if (!query || query.trim().length === 0) return;\r\n    setSearchQuery(query.trim());\r\n    setSearchEnabled(true);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleToggleFavorite = async (movie: Movie) => {\r\n    if (addToFavorites.isPending || removeFromFavorites.isPending) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (movie.isFavorite) {\r\n        await removeFromFavorites.mutateAsync(movie.imdbID);\r\n      } else {\r\n        await addToFavorites.mutateAsync(movie);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to toggle favorite:', error);\r\n    }\r\n  };\r\n\r\n  const handlePageChange = (page: number) => {\r\n    if (page >= 1 && page <= totalPages) {\r\n      setCurrentPage(page);\r\n      if (typeof window !== 'undefined') {\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      }\r\n    }\r\n  };\r\n\r\n  const isMutating = addToFavorites.isPending || removeFromFavorites.isPending;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-hero\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"mb-12\">\r\n          <div className=\"flex items-center justify-center gap-3 mb-6\">\r\n            <h1 className=\"text-4xl md:text-5xl font-bold bg-clip-text\">\r\n              Movie Finder\r\n            </h1>\r\n          </div>\r\n          <SearchBar onSearch={handleSearch} />\r\n        </div>\r\n\r\n        {isLoading && (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"inline-block h-12 w-12 animate-spin rounded-full border-4 border-primary border-r-transparent\" />\r\n            <p className=\"mt-4 text-muted-foreground\">Searching for movies...</p>\r\n          </div>\r\n        )}\r\n\r\n        {error && (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-xl text-red-500 mb-2\">Error loading movies</p>\r\n            <p className=\"text-muted-foreground\">{error.message}</p>\r\n          </div>\r\n        )}\r\n\r\n        {!isLoading && !error && searchResults?.data.movies.length === 0 && !searchQuery && (\r\n          <div className=\"text-center py-12\">\r\n            <h2 className=\"text-2xl font-semibold mb-2\">Start Your Search</h2>\r\n            <p className=\"text-muted-foreground\">\r\n              Search for your favorite movies and add them to your favorites\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {!isLoading && !error && searchResults?.data.movies.length === 0 && searchQuery && (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-xl text-muted-foreground\">\r\n              No movies found for &quot;{searchQuery}&quot;\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {!isLoading && !error && searchResults?.data.movies && searchResults.data.movies.length > 0 && (\r\n          <>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6\">\r\n              {searchResults.data.movies.map((movie) => (\r\n                <MovieCard\r\n                  key={movie.imdbID}\r\n                  movie={movie}\r\n                  isFavorite={movie.isFavorite ?? false}\r\n                  onToggleFavorite={handleToggleFavorite}\r\n                  disabled={isMutating}\r\n                />\r\n              ))}\r\n            </div>\r\n\r\n            {totalPages > 1 && (\r\n              <Pagination\r\n                currentPage={currentPage}\r\n                totalPages={totalPages}\r\n                onPageChange={handlePageChange}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\"\r\n\r\nexport type InputProps = React.InputHTMLAttributes<HTMLInputElement>\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", type, ...props }, ref) => {\r\n    const baseClasses = \"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50\"\r\n    \r\n    return (\r\n      <input\r\n        type={type}\r\n        className={`${baseClasses} ${className}`}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n\r\n","import { useState } from \"react\";\r\nimport { Input } from \"./ui/input\";\r\n\r\ninterface SearchBarProps {\r\n  onSearch: (query: string) => void;\r\n}\r\n\r\nconst SearchBar = ({ onSearch }: SearchBarProps) => {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (query.trim()) {\r\n      onSearch(query);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"relative max-w-2xl mx-auto\">\r\n      <svg className=\"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n      </svg>\r\n      <Input\r\n        type=\"text\"\r\n        placeholder=\"Search for movies...\"\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        className=\"pl-12 h-14 text-lg bg-white border-gray-300 focus:border-blue-500 transition-colors text-black\"\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n\r\n"],"names":[],"mappings":"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"}