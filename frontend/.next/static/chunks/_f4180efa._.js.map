{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/src/components/MovieCard.tsx"],"sourcesContent":["import { useState, memo, useCallback } from \"react\";\r\nimport { Movie } from \"@/types/movie\";\r\n\r\ninterface MovieCardProps {\r\n  movie: Movie;\r\n  isFavorite: boolean;\r\n  onToggleFavorite: (movie: Movie) => void;\r\n  disabled?: boolean;\r\n}\r\n\r\n// Custom comparison function to prevent unnecessary re-renders\r\nconst arePropsEqual = (\r\n  prevProps: MovieCardProps,\r\n  nextProps: MovieCardProps,\r\n): boolean => {\r\n  // Compare movie by imdbID and key properties\r\n  const movieEqual =\r\n    prevProps.movie.imdbID === nextProps.movie.imdbID &&\r\n    prevProps.movie.title === nextProps.movie.title &&\r\n    prevProps.movie.year === nextProps.movie.year &&\r\n    prevProps.movie.poster === nextProps.movie.poster;\r\n\r\n  // Compare other props\r\n  const otherPropsEqual =\r\n    prevProps.isFavorite === nextProps.isFavorite &&\r\n    prevProps.disabled === nextProps.disabled;\r\n\r\n  // onToggleFavorite is a function, so we can't compare it directly\r\n  // But if movie and other props are equal, we assume the function is stable\r\n  return movieEqual && otherPropsEqual;\r\n};\r\n\r\nconst MovieCard = memo(({ movie, isFavorite, onToggleFavorite, disabled = false }: MovieCardProps) => {\r\n  const [imageError, setImageError] = useState(false);\r\n  const [imageLoading, setImageLoading] = useState(true);\r\n\r\n  const handleImageError = () => {\r\n    setImageError(true);\r\n    setImageLoading(false);\r\n  };\r\n\r\n  const handleImageLoad = () => {\r\n    setImageLoading(false);\r\n  };\r\n\r\n  const handleToggle = useCallback(() => {\r\n    if (!disabled) {\r\n      onToggleFavorite(movie);\r\n    }\r\n  }, [disabled, onToggleFavorite, movie]);\r\n\r\n  const hasValidPoster = movie.poster && movie.poster !== \"N/A\" && movie.poster.trim() !== \"\";\r\n\r\n  return (\r\n    <div className=\"group relative bg-white rounded-lg overflow-hidden hover:mouse-pointer shadow-md hover:shadow-lg transition-all duration-300 hover:-translate-y-1\">\r\n      <div className=\"relative aspect-[2/3] overflow-hidden\">\r\n        {hasValidPoster && !imageError ? (\r\n          <>\r\n            {imageLoading && (\r\n              <div className=\"absolute inset-0 bg-gray-100 animate-pulse\" />\r\n            )}\r\n            <img\r\n              src={movie.poster}\r\n              alt={movie.title}\r\n              className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\r\n              onError={handleImageError}\r\n              onLoad={handleImageLoad}\r\n              loading=\"lazy\"\r\n            />\r\n          </>\r\n        ) : (\r\n          <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\r\n            <div className=\"text-center text-gray-500\">\r\n              <svg className=\"h-12 w-12 mx-auto mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n              <p className=\"text-sm\">No Image</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <button\r\n          onClick={handleToggle}\r\n          disabled={disabled}\r\n          className={`absolute top-2 right-2 p-2 rounded-full transition-all duration-200 ${\r\n            disabled\r\n              ? \"opacity-50 cursor-not-allowed\"\r\n              : isFavorite\r\n              ? \"bg-red-500 text-white hover:bg-red-600\"\r\n              : \"bg-white/80 text-gray-600 hover:bg-white hover:text-red-500\"\r\n          }`}\r\n          aria-label={isFavorite ? \"Remove from favorites\" : \"Add to favorites\"}\r\n        >\r\n          <svg \r\n            className={`h-4 w-4 ${isFavorite ? \"fill-current\" : \"\"}`} \r\n            fill=\"none\" \r\n            stroke=\"currentColor\" \r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"p-4\">\r\n        <h3 className=\"font-semibold text-lg mb-1 line-clamp-2 text-black group-hover:text-blue-600 transition-colors\">\r\n          {movie.title}\r\n        </h3>\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-500\">\r\n          <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n          </svg>\r\n          <span>{movie.year}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none\" />\r\n    </div>\r\n  );\r\n}, arePropsEqual);\r\n\r\nMovieCard.displayName = \"MovieCard\";\r\n\r\nexport default MovieCard;\r\n"],"names":[],"mappings":";;;;;AAAA;;;;AAUA,+DAA+D;AAC/D,MAAM,gBAAgB,CACpB,WACA;IAEA,6CAA6C;IAC7C,MAAM,aACJ,UAAU,KAAK,CAAC,MAAM,KAAK,UAAU,KAAK,CAAC,MAAM,IACjD,UAAU,KAAK,CAAC,KAAK,KAAK,UAAU,KAAK,CAAC,KAAK,IAC/C,UAAU,KAAK,CAAC,IAAI,KAAK,UAAU,KAAK,CAAC,IAAI,IAC7C,UAAU,KAAK,CAAC,MAAM,KAAK,UAAU,KAAK,CAAC,MAAM;IAEnD,sBAAsB;IACtB,MAAM,kBACJ,UAAU,UAAU,KAAK,UAAU,UAAU,IAC7C,UAAU,QAAQ,KAAK,UAAU,QAAQ;IAE3C,kEAAkE;IAClE,2EAA2E;IAC3E,OAAO,cAAc;AACvB;AAEA,MAAM,0BAAY,GAAA,IAAA,qKAAI,UAAC;QAAC,EAAE,KAAK,EAAE,UAAU,EAAE,gBAAgB,EAAE,WAAW,KAAK,EAAkB;;IAC/F,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,MAAM,mBAAmB;QACvB,cAAc;QACd,gBAAgB;IAClB;IAEA,MAAM,kBAAkB;QACtB,gBAAgB;IAClB;IAEA,MAAM,eAAe,IAAA,4KAAW;+CAAC;YAC/B,IAAI,CAAC,UAAU;gBACb,iBAAiB;YACnB;QACF;8CAAG;QAAC;QAAU;QAAkB;KAAM;IAEtC,MAAM,iBAAiB,MAAM,MAAM,IAAI,MAAM,MAAM,KAAK,SAAS,MAAM,MAAM,CAAC,IAAI,OAAO;IAEzF,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;oBACZ,kBAAkB,CAAC,2BAClB;;4BACG,8BACC,6LAAC;gCAAI,WAAU;;;;;;0CAEjB,6LAAC;gCACC,KAAK,MAAM,MAAM;gCACjB,KAAK,MAAM,KAAK;gCAChB,WAAU;gCACV,SAAS;gCACT,QAAQ;gCACR,SAAQ;;;;;;;qDAIZ,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;oCAAyB,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAChF,cAAA,6LAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;8CAEvE,6LAAC;oCAAE,WAAU;8CAAU;;;;;;;;;;;;;;;;;kCAK7B,6LAAC;wBACC,SAAS;wBACT,UAAU;wBACV,WAAW,AAAC,uEAMX,OALC,WACI,kCACA,aACA,2CACA;wBAEN,cAAY,aAAa,0BAA0B;kCAEnD,cAAA,6LAAC;4BACC,WAAW,AAAC,WAA2C,OAAjC,aAAa,iBAAiB;4BACpD,MAAK;4BACL,QAAO;4BACP,SAAQ;sCAER,cAAA,6LAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;0BAK3E,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCACX,MAAM,KAAK;;;;;;kCAEd,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;gCAAU,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CACjE,cAAA,6LAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;0CAEvE,6LAAC;0CAAM,MAAM,IAAI;;;;;;;;;;;;;;;;;;0BAIrB,6LAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB,oCAAG;;AAEH,UAAU,WAAW,GAAG;uCAET","debugId":null}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: \"default\" | \"secondary\" | \"outline\" | \"ghost\"\r\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\"\r\n  children?: React.ReactNode\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className = \"\", variant = \"default\", size = \"default\", children, ...props }, ref) => {\r\n    const baseClasses = \"inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none\"\r\n    \r\n    const variantClasses = {\r\n      default: \"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500\",\r\n      secondary: \"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500\",\r\n      outline: \"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500\",\r\n      ghost: \"text-gray-700 hover:bg-gray-100 focus:ring-gray-500\"\r\n    }\r\n    \r\n    const sizeClasses = {\r\n      default: \"h-10 px-4 py-2 text-sm\",\r\n      sm: \"h-8 px-3 text-xs\",\r\n      lg: \"h-12 px-8 text-base\",\r\n      icon: \"h-10 w-10\"\r\n    }\r\n    \r\n    const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`\r\n    \r\n    return (\r\n      <button\r\n        className={classes}\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </button>\r\n    )\r\n  }\r\n)\r\n\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button }\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;;;AASA,MAAM,uBAAS,2KAAgB,MAC7B,QAAgF;QAA/E,EAAE,YAAY,EAAE,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;IAC5E,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;IACT;IAEA,MAAM,cAAc;QAClB,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,MAAM,UAAU,AAAC,GAAiB,OAAf,aAAY,KAA8B,OAA3B,cAAc,CAAC,QAAQ,EAAC,KAAwB,OAArB,WAAW,CAAC,KAAK,EAAC,KAAa,OAAV;IAElF,qBACE,6LAAC;QACC,WAAW;QACX,KAAK;QACJ,GAAG,KAAK;kBAER;;;;;;AAGP;;AAGF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/src/components/pagination.tsx"],"sourcesContent":["import { memo } from \"react\";\r\nimport { Button } from \"./ui/button\";\r\n\r\nconst ChevronLeft = ({ className }: { className?: string }) => (\r\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n  </svg>\r\n);\r\n\r\nconst ChevronRight = ({ className }: { className?: string }) => (\r\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n  </svg>\r\n);\r\n\r\ninterface PaginationProps {\r\n  currentPage: number;\r\n  totalPages: number;\r\n  onPageChange: (page: number) => void;\r\n}\r\n\r\nconst Pagination = memo(({ currentPage, totalPages, onPageChange }: PaginationProps) => {\r\n  const maxVisiblePages = 5;\r\n  const halfVisible = Math.floor(maxVisiblePages / 2);\r\n\r\n  let startPage = Math.max(1, currentPage - halfVisible);\r\n  const endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);\r\n\r\n  if (endPage - startPage + 1 < maxVisiblePages) {\r\n    startPage = Math.max(1, endPage - maxVisiblePages + 1);\r\n  }\r\n\r\n  const pages = Array.from(\r\n    { length: endPage - startPage + 1 },\r\n    (_, i) => startPage + i\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center gap-2 mt-8\">\r\n      <Button\r\n        variant=\"secondary\"\r\n        size=\"icon\"\r\n        onClick={() => onPageChange(currentPage - 1)}\r\n        disabled={currentPage === 1}\r\n      >\r\n        <ChevronLeft className=\"h-4 w-4\" />\r\n      </Button>\r\n\r\n      {startPage > 1 && (\r\n        <>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => onPageChange(1)}\r\n          >\r\n            1\r\n          </Button>\r\n          {startPage > 2 && <span className=\"text-muted-foreground\">...</span>}\r\n        </>\r\n      )}\r\n\r\n      {pages.map((page) => (\r\n        <Button\r\n          key={page}\r\n          variant={page === currentPage ? \"default\" : \"secondary\"}\r\n          onClick={() => onPageChange(page)}\r\n          className={page === currentPage ? \"bg-gradient-primary\" : \"\"}\r\n        >\r\n          {page}\r\n        </Button>\r\n      ))}\r\n\r\n      {endPage < totalPages && (\r\n        <>\r\n          {endPage < totalPages - 1 && <span className=\"text-muted-foreground\">...</span>}\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => onPageChange(totalPages)}\r\n          >\r\n            {totalPages}\r\n          </Button>\r\n        </>\r\n      )}\r\n\r\n      <Button\r\n        variant=\"secondary\"\r\n        size=\"icon\"\r\n        onClick={() => onPageChange(currentPage + 1)}\r\n        disabled={currentPage === totalPages}\r\n      >\r\n        <ChevronRight className=\"h-4 w-4\" />\r\n      </Button>\r\n    </div>\r\n  );\r\n});\r\n\r\nPagination.displayName = \"Pagination\";\r\n\r\nexport default Pagination;\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,cAAc;QAAC,EAAE,SAAS,EAA0B;yBACxD,6LAAC;QAAI,WAAW;QAAW,MAAK;QAAO,QAAO;QAAe,SAAQ;kBACnE,cAAA,6LAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,aAAa;YAAG,GAAE;;;;;;;;;;;;KAFnE;AAMN,MAAM,eAAe;QAAC,EAAE,SAAS,EAA0B;yBACzD,6LAAC;QAAI,WAAW;QAAW,MAAK;QAAO,QAAO;QAAe,SAAQ;kBACnE,cAAA,6LAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,aAAa;YAAG,GAAE;;;;;;;;;;;;MAFnE;AAYN,MAAM,2BAAa,IAAA,qKAAI,QAAC;QAAC,EAAE,WAAW,EAAE,UAAU,EAAE,YAAY,EAAmB;IACjF,MAAM,kBAAkB;IACxB,MAAM,cAAc,KAAK,KAAK,CAAC,kBAAkB;IAEjD,IAAI,YAAY,KAAK,GAAG,CAAC,GAAG,cAAc;IAC1C,MAAM,UAAU,KAAK,GAAG,CAAC,YAAY,YAAY,kBAAkB;IAEnE,IAAI,UAAU,YAAY,IAAI,iBAAiB;QAC7C,YAAY,KAAK,GAAG,CAAC,GAAG,UAAU,kBAAkB;IACtD;IAEA,MAAM,QAAQ,MAAM,IAAI,CACtB;QAAE,QAAQ,UAAU,YAAY;IAAE,GAClC,CAAC,GAAG,IAAM,YAAY;IAGxB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,+IAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,SAAS,IAAM,aAAa,cAAc;gBAC1C,UAAU,gBAAgB;0BAE1B,cAAA,6LAAC;oBAAY,WAAU;;;;;;;;;;;YAGxB,YAAY,mBACX;;kCACE,6LAAC,+IAAM;wBACL,SAAQ;wBACR,SAAS,IAAM,aAAa;kCAC7B;;;;;;oBAGA,YAAY,mBAAK,6LAAC;wBAAK,WAAU;kCAAwB;;;;;;;;YAI7D,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC,+IAAM;oBAEL,SAAS,SAAS,cAAc,YAAY;oBAC5C,SAAS,IAAM,aAAa;oBAC5B,WAAW,SAAS,cAAc,wBAAwB;8BAEzD;mBALI;;;;;YASR,UAAU,4BACT;;oBACG,UAAU,aAAa,mBAAK,6LAAC;wBAAK,WAAU;kCAAwB;;;;;;kCACrE,6LAAC,+IAAM;wBACL,SAAQ;wBACR,SAAS,IAAM,aAAa;kCAE3B;;;;;;;;0BAKP,6LAAC,+IAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,SAAS,IAAM,aAAa,cAAc;gBAC1C,UAAU,gBAAgB;0BAE1B,cAAA,6LAAC;oBAAa,WAAU;;;;;;;;;;;;;;;;;AAIhC;;AAEA,WAAW,WAAW,GAAG;uCAEV","debugId":null}},
    {"offset": {"line": 464, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/src/lib/api.ts"],"sourcesContent":["import { Movie, SearchMoviesResponse, FavoritesResponse } from '@/types/movie';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/movies';\r\n\r\nclass ApiError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public status?: number,\r\n    public data?: unknown,\r\n  ) {\r\n    super(message);\r\n    this.name = 'ApiError';\r\n  }\r\n}\r\n\r\nexport const movieApi = {\r\n  searchMovies: async (query: string, page: number = 1): Promise<SearchMoviesResponse> => {\r\n    if (!query || typeof query !== 'string' || query.trim().length === 0) {\r\n      throw new ApiError('Search query is required');\r\n    }\r\n\r\n    if (!Number.isInteger(page) || page < 1) {\r\n      throw new ApiError('Page must be a positive integer');\r\n    }\r\n\r\n    try {\r\n      const encodedQuery = encodeURIComponent(query.trim());\r\n      const response = await fetch(`${API_BASE_URL}/search?q=${encodedQuery}&page=${page}`);\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new ApiError(\r\n          errorData.message || 'Failed to search movies',\r\n          response.status,\r\n          errorData,\r\n        );\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data;\r\n    } catch (error) {\r\n      if (error instanceof ApiError) {\r\n        throw error;\r\n      }\r\n      if (error instanceof TypeError && error.message === 'Failed to fetch') {\r\n        throw new ApiError('Network error: Unable to connect to server. Please check your internet connection.', 0);\r\n      }\r\n      throw new ApiError('Unable to search for movies. Please try again later.');\r\n    }\r\n  },\r\n\r\n  getFavorites: async (page: number = 1): Promise<FavoritesResponse> => {\r\n    if (!Number.isInteger(page) || page < 1) {\r\n      throw new ApiError('Page must be a positive integer');\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/favorites/list?page=${page}`);\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        if (response.status === 404) {\r\n          return {\r\n            data: {\r\n              favorites: [],\r\n              count: 0,\r\n              totalResults: '0',\r\n              currentPage: page,\r\n              totalPages: 0,\r\n            },\r\n          };\r\n        }\r\n        throw new ApiError(\r\n          errorData.message || 'Failed to get favorites',\r\n          response.status,\r\n          errorData,\r\n        );\r\n      }\r\n\r\n      return response.json();\r\n    } catch (error) {\r\n      if (error instanceof ApiError) {\r\n        throw error;\r\n      }\r\n      if (error instanceof TypeError && error.message === 'Failed to fetch') {\r\n        throw new ApiError('Network error: Unable to connect to server. Please check your internet connection.', 0);\r\n      }\r\n      throw new ApiError('Unable to load favorites. Please try again later.');\r\n    }\r\n  },\r\n\r\n  addToFavorites: async (movie: Movie): Promise<void> => {\r\n    if (!movie || !movie.imdbID) {\r\n      throw new ApiError('Invalid movie data');\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/favorites`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(movie),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new ApiError(\r\n          errorData.message || 'Failed to add movie to favorites',\r\n          response.status,\r\n          errorData,\r\n        );\r\n      }\r\n    } catch (error) {\r\n      if (error instanceof ApiError) {\r\n        throw error;\r\n      }\r\n      if (error instanceof TypeError && error.message === 'Failed to fetch') {\r\n        throw new ApiError('Network error: Unable to connect to server. Please check your internet connection.', 0);\r\n      }\r\n      throw new ApiError('Unable to add movie to favorites. Please try again.');\r\n    }\r\n  },\r\n\r\n  removeFromFavorites: async (imdbID: string): Promise<void> => {\r\n    if (!imdbID || typeof imdbID !== 'string' || imdbID.trim().length === 0) {\r\n      throw new ApiError('Movie ID is required');\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/favorites/${encodeURIComponent(imdbID)}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new ApiError(\r\n          errorData.message || 'Failed to remove movie from favorites',\r\n          response.status,\r\n          errorData,\r\n        );\r\n      }\r\n    } catch (error) {\r\n      if (error instanceof ApiError) {\r\n        throw error;\r\n      }\r\n      if (error instanceof TypeError && error.message === 'Failed to fetch') {\r\n        throw new ApiError('Network error: Unable to connect to server. Please check your internet connection.', 0);\r\n      }\r\n      throw new ApiError('Unable to remove movie from favorites. Please try again.');\r\n    }\r\n  },\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/src/hooks/useMovies.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { movieApi } from '@/lib/api';\r\nimport { SearchMoviesResponse, FavoritesResponse } from '@/types/movie';\r\n\r\n// Helper function to get user-friendly error message\r\nconst getErrorMessage = (error: unknown): string => {\r\n  if (error instanceof Error) {\r\n    const message = error.message;\r\n    \r\n    // Network errors\r\n    if (message.includes('Network error') || message.includes('Failed to fetch')) {\r\n      return 'Unable to connect to the server. Please check your internet connection.';\r\n    }\r\n    \r\n    // API errors with status codes\r\n    if (message.includes('400')) {\r\n      if (message.includes('already in favorites')) {\r\n        return 'This movie is already in your favorites.';\r\n      }\r\n      if (message.includes('required') || message.includes('Invalid')) {\r\n        return 'Please provide valid information.';\r\n      }\r\n      return 'Invalid request. Please try again.';\r\n    }\r\n    \r\n    if (message.includes('404')) {\r\n      return 'The requested item was not found.';\r\n    }\r\n    \r\n    if (message.includes('500') || message.includes('503')) {\r\n      return 'Server error. Please try again later.';\r\n    }\r\n    \r\n    // Return the error message if it's user-friendly\r\n    return message;\r\n  }\r\n  \r\n  return 'An unexpected error occurred. Please try again.';\r\n};\r\n\r\nexport const useSearchMovies = (query: string, page: number = 1, enabled: boolean = false) => {\r\n  return useQuery<SearchMoviesResponse, Error>({\r\n    queryKey: ['movies', 'search', query, page],\r\n    queryFn: () => movieApi.searchMovies(query, page),\r\n    enabled: enabled && query.length > 0,\r\n    retry: (failureCount, error) => {\r\n      // Retry up to 2 times for network errors, but not for 4xx errors\r\n      if (error instanceof Error) {\r\n        if (error.message.includes('400') || error.message.includes('404')) {\r\n          return false; // Don't retry client errors\r\n        }\r\n      }\r\n      return failureCount < 2;\r\n    },\r\n    retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000), // Exponential backoff\r\n    staleTime: 60 * 1000,\r\n  });\r\n};\r\n\r\nexport const useFavorites = (page: number = 1) => {\r\n  return useQuery<FavoritesResponse, Error>({\r\n    queryKey: ['movies', 'favorites', page],\r\n    queryFn: () => movieApi.getFavorites(page),\r\n    retry: (failureCount, error) => {\r\n      if (error instanceof Error) {\r\n        if (error.message.includes('400') || error.message.includes('404')) {\r\n          return false;\r\n        }\r\n      }\r\n      return failureCount < 2;\r\n    },\r\n    retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),\r\n    staleTime: 30 * 1000,\r\n  });\r\n};\r\n\r\nexport const useAddToFavorites = (onError?: (message: string) => void) => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: movieApi.addToFavorites,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['movies', 'favorites'] });\r\n      queryClient.invalidateQueries({ queryKey: ['movies', 'search'] });\r\n    },\r\n    onError: (error) => {\r\n      const message = getErrorMessage(error);\r\n      if (onError) {\r\n        onError(message);\r\n      } else {\r\n        console.error('Failed to add to favorites:', error);\r\n      }\r\n    },\r\n  });\r\n};\r\n\r\nexport const useRemoveFromFavorites = (onError?: (message: string) => void) => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: movieApi.removeFromFavorites,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['movies', 'favorites'] });\r\n      queryClient.invalidateQueries({ queryKey: ['movies', 'search'] });\r\n    },\r\n    onError: (error) => {\r\n      const message = getErrorMessage(error);\r\n      if (onError) {\r\n        onError(message);\r\n      } else {\r\n        console.error('Failed to remove from favorites:', error);\r\n      }\r\n    },\r\n  });\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AACA;;;;AAGA,qDAAqD;AACrD,MAAM,kBAAkB,CAAC;IACvB,IAAI,iBAAiB,OAAO;QAC1B,MAAM,UAAU,MAAM,OAAO;QAE7B,iBAAiB;QACjB,IAAI,QAAQ,QAAQ,CAAC,oBAAoB,QAAQ,QAAQ,CAAC,oBAAoB;YAC5E,OAAO;QACT;QAEA,+BAA+B;QAC/B,IAAI,QAAQ,QAAQ,CAAC,QAAQ;YAC3B,IAAI,QAAQ,QAAQ,CAAC,yBAAyB;gBAC5C,OAAO;YACT;YACA,IAAI,QAAQ,QAAQ,CAAC,eAAe,QAAQ,QAAQ,CAAC,YAAY;gBAC/D,OAAO;YACT;YACA,OAAO;QACT;QAEA,IAAI,QAAQ,QAAQ,CAAC,QAAQ;YAC3B,OAAO;QACT;QAEA,IAAI,QAAQ,QAAQ,CAAC,UAAU,QAAQ,QAAQ,CAAC,QAAQ;YACtD,OAAO;QACT;QAEA,iDAAiD;QACjD,OAAO;IACT;IAEA,OAAO;AACT;AAEO,MAAM,kBAAkB,SAAC;QAAe,wEAAe,GAAG,2EAAmB;;IAClF,OAAO,IAAA,0LAAQ,EAA8B;QAC3C,UAAU;YAAC;YAAU;YAAU;YAAO;SAAK;QAC3C,OAAO;wCAAE,IAAM,gIAAQ,CAAC,YAAY,CAAC,OAAO;;QAC5C,SAAS,WAAW,MAAM,MAAM,GAAG;QACnC,KAAK;wCAAE,CAAC,cAAc;gBACpB,iEAAiE;gBACjE,IAAI,iBAAiB,OAAO;oBAC1B,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU,MAAM,OAAO,CAAC,QAAQ,CAAC,QAAQ;wBAClE,OAAO,OAAO,4BAA4B;oBAC5C;gBACF;gBACA,OAAO,eAAe;YACxB;;QACA,UAAU;wCAAE,CAAC,eAAiB,KAAK,GAAG,CAAC,OAAO,KAAK,cAAc;;QACjE,WAAW,KAAK;IAClB;AACF;GAjBa;;QACJ,0LAAQ;;;AAkBV,MAAM,eAAe;QAAC,wEAAe;;IAC1C,OAAO,IAAA,0LAAQ,EAA2B;QACxC,UAAU;YAAC;YAAU;YAAa;SAAK;QACvC,OAAO;qCAAE,IAAM,gIAAQ,CAAC,YAAY,CAAC;;QACrC,KAAK;qCAAE,CAAC,cAAc;gBACpB,IAAI,iBAAiB,OAAO;oBAC1B,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU,MAAM,OAAO,CAAC,QAAQ,CAAC,QAAQ;wBAClE,OAAO;oBACT;gBACF;gBACA,OAAO,eAAe;YACxB;;QACA,UAAU;qCAAE,CAAC,eAAiB,KAAK,GAAG,CAAC,OAAO,KAAK,cAAc;;QACjE,WAAW,KAAK;IAClB;AACF;IAfa;;QACJ,0LAAQ;;;AAgBV,MAAM,oBAAoB,CAAC;;IAChC,MAAM,cAAc,IAAA,2MAAc;IAElC,OAAO,IAAA,gMAAW,EAAC;QACjB,YAAY,gIAAQ,CAAC,cAAc;QACnC,SAAS;6CAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;wBAAU;qBAAY;gBAAC;gBAClE,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;wBAAU;qBAAS;gBAAC;YACjE;;QACA,OAAO;6CAAE,CAAC;gBACR,MAAM,UAAU,gBAAgB;gBAChC,IAAI,SAAS;oBACX,QAAQ;gBACV,OAAO;oBACL,QAAQ,KAAK,CAAC,+BAA+B;gBAC/C;YACF;;IACF;AACF;IAlBa;;QACS,2MAAc;QAE3B,gMAAW;;;AAiBb,MAAM,yBAAyB,CAAC;;IACrC,MAAM,cAAc,IAAA,2MAAc;IAElC,OAAO,IAAA,gMAAW,EAAC;QACjB,YAAY,gIAAQ,CAAC,mBAAmB;QACxC,SAAS;kDAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;wBAAU;qBAAY;gBAAC;gBAClE,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;wBAAU;qBAAS;gBAAC;YACjE;;QACA,OAAO;kDAAE,CAAC;gBACR,MAAM,UAAU,gBAAgB;gBAChC,IAAI,SAAS;oBACX,QAAQ;gBACV,OAAO;oBACL,QAAQ,KAAK,CAAC,oCAAoC;gBACpD;YACF;;IACF;AACF;IAlBa;;QACS,2MAAc;QAE3B,gMAAW","debugId":null}},
    {"offset": {"line": 795, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/src/hooks/useDebouncedCallback.ts"],"sourcesContent":["import { useCallback, useRef } from 'react';\r\n\r\n/**\r\n * Custom hook for debouncing function calls\r\n * Prevents rapid successive calls by delaying execution\r\n * @param callback - The function to debounce\r\n * @param delay - Delay in milliseconds\r\n * @returns Debounced function\r\n */\r\nexport function useDebouncedCallback<T extends (...args: any[]) => any>(\r\n  callback: T,\r\n  delay: number,\r\n): T {\r\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const debouncedCallback = useCallback(\r\n    (...args: Parameters<T>) => {\r\n      // Clear any pending timeout\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n\r\n      // Set new timeout\r\n      timeoutRef.current = setTimeout(() => {\r\n        callback(...args);\r\n      }, delay);\r\n    },\r\n    [callback, delay],\r\n  ) as T;\r\n\r\n  return debouncedCallback;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;;;AASO,SAAS,qBACd,QAAW,EACX,KAAa;;IAEb,MAAM,aAAa,IAAA,uKAAM,EAAwB;IAEjD,MAAM,oBAAoB,IAAA,4KAAW;+DACnC;6CAAI;gBAAA;;YACF,4BAA4B;YAC5B,IAAI,WAAW,OAAO,EAAE;gBACtB,aAAa,WAAW,OAAO;YACjC;YAEA,kBAAkB;YAClB,WAAW,OAAO,GAAG;uEAAW;oBAC9B,YAAY;gBACd;sEAAG;QACL;8DACA;QAAC;QAAU;KAAM;IAGnB,OAAO;AACT;GAtBgB","debugId":null}},
    {"offset": {"line": 835, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/src/hooks/useErrorToast.ts"],"sourcesContent":["import { useState, useCallback } from 'react';\r\n\r\ninterface ErrorToastState {\r\n  message: string;\r\n  id: number;\r\n}\r\n\r\nexport function useErrorToast() {\r\n  const [errors, setErrors] = useState<ErrorToastState[]>([]);\r\n\r\n  const showError = useCallback((message: string) => {\r\n    const id = Date.now();\r\n    setErrors((prev) => [...prev, { message, id }]);\r\n  }, []);\r\n\r\n  const removeError = useCallback((id: number) => {\r\n    setErrors((prev) => prev.filter((error) => error.id !== id));\r\n  }, []);\r\n\r\n  return { errors, showError, removeError };\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;;;AAOO,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAoB,EAAE;IAE1D,MAAM,YAAY,IAAA,4KAAW;gDAAC,CAAC;YAC7B,MAAM,KAAK,KAAK,GAAG;YACnB;wDAAU,CAAC,OAAS;2BAAI;wBAAM;4BAAE;4BAAS;wBAAG;qBAAE;;QAChD;+CAAG,EAAE;IAEL,MAAM,cAAc,IAAA,4KAAW;kDAAC,CAAC;YAC/B;0DAAU,CAAC,OAAS,KAAK,MAAM;kEAAC,CAAC,QAAU,MAAM,EAAE,KAAK;;;QAC1D;iDAAG,EAAE;IAEL,OAAO;QAAE;QAAQ;QAAW;IAAY;AAC1C;GAbgB","debugId":null}},
    {"offset": {"line": 882, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/src/components/ErrorToast.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface ErrorToastProps {\r\n  message: string;\r\n  onClose: () => void;\r\n  duration?: number;\r\n}\r\n\r\nexport default function ErrorToast({ message, onClose, duration = 5000 }: ErrorToastProps) {\r\n  const [isVisible, setIsVisible] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setIsVisible(false);\r\n      setTimeout(onClose, 300); // Wait for fade out animation\r\n    }, duration);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [duration, onClose]);\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div\r\n      className={`fixed top-4 right-4 z-50 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg transform transition-all duration-300 ${\r\n        isVisible ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'\r\n      }`}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex items-center gap-3\">\r\n        <svg\r\n          className=\"w-5 h-5 flex-shrink-0\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n          />\r\n        </svg>\r\n        <p className=\"font-medium\">{message}</p>\r\n        <button\r\n          onClick={() => {\r\n            setIsVisible(false);\r\n            setTimeout(onClose, 300);\r\n          }}\r\n          className=\"ml-4 text-white hover:text-gray-200 focus:outline-none\"\r\n          aria-label=\"Close error message\"\r\n        >\r\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M6 18L18 6M6 6l12 12\"\r\n            />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAUe,SAAS,WAAW,KAAsD;QAAtD,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,IAAI,EAAmB,GAAtD;;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;gCAAC;YACR,MAAM,QAAQ;8CAAW;oBACvB,aAAa;oBACb,WAAW,SAAS,MAAM,8BAA8B;gBAC1D;6CAAG;YAEH;wCAAO,IAAM,aAAa;;QAC5B;+BAAG;QAAC;QAAU;KAAQ;IAEtB,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACE,6LAAC;QACC,WAAW,AAAC,uHAEX,OADC,YAAY,8BAA8B;QAE5C,MAAK;kBAEL,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,SAAQ;8BAER,cAAA,6LAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;8BAGN,6LAAC;oBAAE,WAAU;8BAAe;;;;;;8BAC5B,6LAAC;oBACC,SAAS;wBACP,aAAa;wBACb,WAAW,SAAS;oBACtB;oBACA,WAAU;oBACV,cAAW;8BAEX,cAAA,6LAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCACjE,cAAA,6LAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhB;GAxDwB;KAAA","debugId":null}},
    {"offset": {"line": 1002, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/src/app/favorites/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useCallback } from \"react\";\r\nimport MovieCard from \"@/components/MovieCard\";\r\nimport Pagination from \"@/components/pagination\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useAddToFavorites, useFavorites, useRemoveFromFavorites } from \"@/hooks/useMovies\";\r\nimport { useDebouncedCallback } from \"@/hooks/useDebouncedCallback\";\r\nimport { useErrorToast } from \"@/hooks/useErrorToast\";\r\nimport { Movie } from \"@/types/movie\";\r\nimport Link from \"next/link\";\r\nimport ErrorToast from \"@/components/ErrorToast\";\r\n\r\nconst Favorites = () => {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const { data: favorites, isLoading, error } = useFavorites(currentPage);\r\n  const { errors, showError, removeError } = useErrorToast();\r\n  \r\n  const addToFavorites = useAddToFavorites((errorMessage) => showError(errorMessage));\r\n  const removeFromFavorites = useRemoveFromFavorites((errorMessage) => showError(errorMessage));\r\n\r\n  // Debounced favorite removal to prevent race conditions\r\n  const removeFavoriteAction = useCallback(\r\n    async (movie: Movie) => {\r\n      if (addToFavorites.isPending || removeFromFavorites.isPending) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await removeFromFavorites.mutateAsync(movie.imdbID);\r\n        \r\n        if (favorites?.data.favorites.length === 1 && currentPage > 1) {\r\n          setCurrentPage(currentPage - 1);\r\n        }\r\n      } catch (error) {\r\n        // Error is already handled by the onError callback in useMovies\r\n        console.error('Failed to remove favorite:', error);\r\n      }\r\n    },\r\n    [addToFavorites, removeFromFavorites, favorites?.data.favorites.length, currentPage],\r\n  );\r\n\r\n  const debouncedRemoveFavorite = useDebouncedCallback(removeFavoriteAction, 300);\r\n\r\n  const handleToggleFavorite = useCallback(\r\n    (movie: Movie) => {\r\n      debouncedRemoveFavorite(movie);\r\n    },\r\n    [debouncedRemoveFavorite],\r\n  );\r\n\r\n  const handlePageChange = useCallback((page: number) => {\r\n    const totalPages = favorites?.data.totalPages || 1;\r\n    if (page >= 1 && page <= totalPages) {\r\n      setCurrentPage(page);\r\n      if (typeof window !== 'undefined') {\r\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n      }\r\n    }\r\n  }, [favorites?.data.totalPages]);\r\n  \r\n  const totalResults = favorites?.data.totalResults \r\n    ? parseInt(favorites.data.totalResults, 10)\r\n    : 0;\r\n\r\n  const isMutating = addToFavorites.isPending || removeFromFavorites.isPending;\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-hero\">\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"inline-block h-12 w-12 animate-spin rounded-full border-4 border-primary border-r-transparent\" />\r\n            <p className=\"mt-4 text-muted-foreground\">Loading favorites...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-hero\">\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-xl text-red-500 mb-2\">Error loading favorites</p>\r\n            <p className=\"text-muted-foreground\">\r\n              {error.message.includes('Network error')\r\n                ? 'Unable to connect to the server. Please check your internet connection.'\r\n                : error.message.includes('Failed to fetch')\r\n                ? 'Unable to connect to the server. Please check your internet connection.'\r\n                : error.message}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-hero\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"mb-12\">\r\n          <div className=\"flex items-center justify-center gap-3 mb-6\">\r\n            <h1 className=\"text-4xl md:text-5xl text-white font-bold bg-clip-text\">\r\n              My Favorites\r\n            </h1>\r\n          </div>\r\n          <p className=\"text-center text-muted-foreground\">\r\n            {totalResults} {totalResults === 1 ? \"movie\" : \"movies\"} saved\r\n          </p>\r\n        </div>\r\n\r\n        {totalResults === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <h2 className=\"text-2xl font-semibold mb-2\">No Favorites Yet</h2>\r\n            <p className=\"text-muted-foreground mb-6\">\r\n              Start adding movies to your favorites from the search page\r\n            </p>\r\n            <Link href=\"/\">\r\n              <Button className=\"bg-gradient-primary\">\r\n                Search Movies\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6\">\r\n              {favorites?.data.favorites\r\n                .filter((movie, index, self) => \r\n                  // Remove duplicates based on imdbID\r\n                  index === self.findIndex((m) => m.imdbID === movie.imdbID)\r\n                )\r\n                .map((movie: Movie, index: number) => (\r\n                  <MovieCard\r\n                    key={`${movie.imdbID}-${index}`}\r\n                    movie={movie}\r\n                    isFavorite={true}\r\n                    onToggleFavorite={handleToggleFavorite}\r\n                    disabled={isMutating}\r\n                  />\r\n                ))}\r\n            </div>\r\n\r\n            {favorites?.data.totalPages && favorites.data.totalPages > 1 && (\r\n              <Pagination\r\n                currentPage={currentPage}\r\n                totalPages={favorites.data.totalPages}\r\n                onPageChange={handlePageChange}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* Error Toasts */}\r\n        {errors.map((error) => (\r\n          <ErrorToast\r\n            key={error.id}\r\n            message={error.message}\r\n            onClose={() => removeError(error.id)}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Favorites;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1320, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40tanstack/query-core/src/queryObserver.ts"],"sourcesContent":["import { focusManager } from './focusManager'\nimport { notifyManager } from './notifyManager'\nimport { fetchState } from './query'\nimport { Subscribable } from './subscribable'\nimport { pendingThenable } from './thenable'\nimport {\n  isServer,\n  isValidTimeout,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  timeUntilStale,\n} from './utils'\nimport { timeoutManager } from './timeoutManager'\nimport type { ManagedTimerId } from './timeoutManager'\nimport type { FetchOptions, Query, QueryState } from './query'\nimport type { QueryClient } from './queryClient'\nimport type { PendingThenable, Thenable } from './thenable'\nimport type {\n  DefaultError,\n  DefaultedQueryObserverOptions,\n  PlaceholderDataFunction,\n  QueryKey,\n  QueryObserverBaseResult,\n  QueryObserverOptions,\n  QueryObserverResult,\n  QueryOptions,\n  RefetchOptions,\n} from './types'\n\ntype QueryObserverListener<TData, TError> = (\n  result: QueryObserverResult<TData, TError>,\n) => void\n\ninterface ObserverFetchOptions extends FetchOptions {\n  throwOnError?: boolean\n}\n\nexport class QueryObserver<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> extends Subscribable<QueryObserverListener<TData, TError>> {\n  #client: QueryClient\n  #currentQuery: Query<TQueryFnData, TError, TQueryData, TQueryKey> = undefined!\n  #currentQueryInitialState: QueryState<TQueryData, TError> = undefined!\n  #currentResult: QueryObserverResult<TData, TError> = undefined!\n  #currentResultState?: QueryState<TQueryData, TError>\n  #currentResultOptions?: QueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >\n  #currentThenable: Thenable<TData>\n  #selectError: TError | null\n  #selectFn?: (data: TQueryData) => TData\n  #selectResult?: TData\n  // This property keeps track of the last query with defined data.\n  // It will be used to pass the previous data and query to the placeholder function between renders.\n  #lastQueryWithDefinedData?: Query<TQueryFnData, TError, TQueryData, TQueryKey>\n  #staleTimeoutId?: ManagedTimerId\n  #refetchIntervalId?: ManagedTimerId\n  #currentRefetchInterval?: number | false\n  #trackedProps = new Set<keyof QueryObserverResult>()\n\n  constructor(\n    client: QueryClient,\n    public options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ) {\n    super()\n\n    this.#client = client\n    this.#selectError = null\n    this.#currentThenable = pendingThenable()\n\n    this.bindMethods()\n    this.setOptions(options)\n  }\n\n  protected bindMethods(): void {\n    this.refetch = this.refetch.bind(this)\n  }\n\n  protected onSubscribe(): void {\n    if (this.listeners.size === 1) {\n      this.#currentQuery.addObserver(this)\n\n      if (shouldFetchOnMount(this.#currentQuery, this.options)) {\n        this.#executeFetch()\n      } else {\n        this.updateResult()\n      }\n\n      this.#updateTimers()\n    }\n  }\n\n  protected onUnsubscribe(): void {\n    if (!this.hasListeners()) {\n      this.destroy()\n    }\n  }\n\n  shouldFetchOnReconnect(): boolean {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnReconnect,\n    )\n  }\n\n  shouldFetchOnWindowFocus(): boolean {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnWindowFocus,\n    )\n  }\n\n  destroy(): void {\n    this.listeners = new Set()\n    this.#clearStaleTimeout()\n    this.#clearRefetchInterval()\n    this.#currentQuery.removeObserver(this)\n  }\n\n  setOptions(\n    options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): void {\n    const prevOptions = this.options\n    const prevQuery = this.#currentQuery\n\n    this.options = this.#client.defaultQueryOptions(options)\n\n    if (\n      this.options.enabled !== undefined &&\n      typeof this.options.enabled !== 'boolean' &&\n      typeof this.options.enabled !== 'function' &&\n      typeof resolveEnabled(this.options.enabled, this.#currentQuery) !==\n        'boolean'\n    ) {\n      throw new Error(\n        'Expected enabled to be a boolean or a callback that returns a boolean',\n      )\n    }\n\n    this.#updateQuery()\n    this.#currentQuery.setOptions(this.options)\n\n    if (\n      prevOptions._defaulted &&\n      !shallowEqualObjects(this.options, prevOptions)\n    ) {\n      this.#client.getQueryCache().notify({\n        type: 'observerOptionsUpdated',\n        query: this.#currentQuery,\n        observer: this,\n      })\n    }\n\n    const mounted = this.hasListeners()\n\n    // Fetch if there are subscribers\n    if (\n      mounted &&\n      shouldFetchOptionally(\n        this.#currentQuery,\n        prevQuery,\n        this.options,\n        prevOptions,\n      )\n    ) {\n      this.#executeFetch()\n    }\n\n    // Update result\n    this.updateResult()\n\n    // Update stale interval if needed\n    if (\n      mounted &&\n      (this.#currentQuery !== prevQuery ||\n        resolveEnabled(this.options.enabled, this.#currentQuery) !==\n          resolveEnabled(prevOptions.enabled, this.#currentQuery) ||\n        resolveStaleTime(this.options.staleTime, this.#currentQuery) !==\n          resolveStaleTime(prevOptions.staleTime, this.#currentQuery))\n    ) {\n      this.#updateStaleTimeout()\n    }\n\n    const nextRefetchInterval = this.#computeRefetchInterval()\n\n    // Update refetch interval if needed\n    if (\n      mounted &&\n      (this.#currentQuery !== prevQuery ||\n        resolveEnabled(this.options.enabled, this.#currentQuery) !==\n          resolveEnabled(prevOptions.enabled, this.#currentQuery) ||\n        nextRefetchInterval !== this.#currentRefetchInterval)\n    ) {\n      this.#updateRefetchInterval(nextRefetchInterval)\n    }\n  }\n\n  getOptimisticResult(\n    options: DefaultedQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): QueryObserverResult<TData, TError> {\n    const query = this.#client.getQueryCache().build(this.#client, options)\n\n    const result = this.createResult(query, options)\n\n    if (shouldAssignObserverCurrentProperties(this, result)) {\n      // this assigns the optimistic result to the current Observer\n      // because if the query function changes, useQuery will be performing\n      // an effect where it would fetch again.\n      // When the fetch finishes, we perform a deep data cloning in order\n      // to reuse objects references. This deep data clone is performed against\n      // the `observer.currentResult.data` property\n      // When QueryKey changes, we refresh the query and get new `optimistic`\n      // result, while we leave the `observer.currentResult`, so when new data\n      // arrives, it finds the old `observer.currentResult` which is related\n      // to the old QueryKey. Which means that currentResult and selectData are\n      // out of sync already.\n      // To solve this, we move the cursor of the currentResult every time\n      // an observer reads an optimistic value.\n\n      // When keeping the previous data, the result doesn't change until new\n      // data arrives.\n      this.#currentResult = result\n      this.#currentResultOptions = this.options\n      this.#currentResultState = this.#currentQuery.state\n    }\n    return result\n  }\n\n  getCurrentResult(): QueryObserverResult<TData, TError> {\n    return this.#currentResult\n  }\n\n  trackResult(\n    result: QueryObserverResult<TData, TError>,\n    onPropTracked?: (key: keyof QueryObserverResult) => void,\n  ): QueryObserverResult<TData, TError> {\n    return new Proxy(result, {\n      get: (target, key) => {\n        this.trackProp(key as keyof QueryObserverResult)\n        onPropTracked?.(key as keyof QueryObserverResult)\n        if (key === 'promise') {\n          this.trackProp('data')\n          if (\n            !this.options.experimental_prefetchInRender &&\n            this.#currentThenable.status === 'pending'\n          ) {\n            this.#currentThenable.reject(\n              new Error(\n                'experimental_prefetchInRender feature flag is not enabled',\n              ),\n            )\n          }\n        }\n        return Reflect.get(target, key)\n      },\n    })\n  }\n\n  trackProp(key: keyof QueryObserverResult) {\n    this.#trackedProps.add(key)\n  }\n\n  getCurrentQuery(): Query<TQueryFnData, TError, TQueryData, TQueryKey> {\n    return this.#currentQuery\n  }\n\n  refetch({ ...options }: RefetchOptions = {}): Promise<\n    QueryObserverResult<TData, TError>\n  > {\n    return this.fetch({\n      ...options,\n    })\n  }\n\n  fetchOptimistic(\n    options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): Promise<QueryObserverResult<TData, TError>> {\n    const defaultedOptions = this.#client.defaultQueryOptions(options)\n\n    const query = this.#client\n      .getQueryCache()\n      .build(this.#client, defaultedOptions)\n\n    return query.fetch().then(() => this.createResult(query, defaultedOptions))\n  }\n\n  protected fetch(\n    fetchOptions: ObserverFetchOptions,\n  ): Promise<QueryObserverResult<TData, TError>> {\n    return this.#executeFetch({\n      ...fetchOptions,\n      cancelRefetch: fetchOptions.cancelRefetch ?? true,\n    }).then(() => {\n      this.updateResult()\n      return this.#currentResult\n    })\n  }\n\n  #executeFetch(\n    fetchOptions?: Omit<ObserverFetchOptions, 'initialPromise'>,\n  ): Promise<TQueryData | undefined> {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.#updateQuery()\n\n    // Fetch\n    let promise: Promise<TQueryData | undefined> = this.#currentQuery.fetch(\n      this.options as QueryOptions<TQueryFnData, TError, TQueryData, TQueryKey>,\n      fetchOptions,\n    )\n\n    if (!fetchOptions?.throwOnError) {\n      promise = promise.catch(noop)\n    }\n\n    return promise\n  }\n\n  #updateStaleTimeout(): void {\n    this.#clearStaleTimeout()\n    const staleTime = resolveStaleTime(\n      this.options.staleTime,\n      this.#currentQuery,\n    )\n\n    if (isServer || this.#currentResult.isStale || !isValidTimeout(staleTime)) {\n      return\n    }\n\n    const time = timeUntilStale(this.#currentResult.dataUpdatedAt, staleTime)\n\n    // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n    const timeout = time + 1\n\n    this.#staleTimeoutId = timeoutManager.setTimeout(() => {\n      if (!this.#currentResult.isStale) {\n        this.updateResult()\n      }\n    }, timeout)\n  }\n\n  #computeRefetchInterval() {\n    return (\n      (typeof this.options.refetchInterval === 'function'\n        ? this.options.refetchInterval(this.#currentQuery)\n        : this.options.refetchInterval) ?? false\n    )\n  }\n\n  #updateRefetchInterval(nextInterval: number | false): void {\n    this.#clearRefetchInterval()\n\n    this.#currentRefetchInterval = nextInterval\n\n    if (\n      isServer ||\n      resolveEnabled(this.options.enabled, this.#currentQuery) === false ||\n      !isValidTimeout(this.#currentRefetchInterval) ||\n      this.#currentRefetchInterval === 0\n    ) {\n      return\n    }\n\n    this.#refetchIntervalId = timeoutManager.setInterval(() => {\n      if (\n        this.options.refetchIntervalInBackground ||\n        focusManager.isFocused()\n      ) {\n        this.#executeFetch()\n      }\n    }, this.#currentRefetchInterval)\n  }\n\n  #updateTimers(): void {\n    this.#updateStaleTimeout()\n    this.#updateRefetchInterval(this.#computeRefetchInterval())\n  }\n\n  #clearStaleTimeout(): void {\n    if (this.#staleTimeoutId) {\n      timeoutManager.clearTimeout(this.#staleTimeoutId)\n      this.#staleTimeoutId = undefined\n    }\n  }\n\n  #clearRefetchInterval(): void {\n    if (this.#refetchIntervalId) {\n      timeoutManager.clearInterval(this.#refetchIntervalId)\n      this.#refetchIntervalId = undefined\n    }\n  }\n\n  protected createResult(\n    query: Query<TQueryFnData, TError, TQueryData, TQueryKey>,\n    options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): QueryObserverResult<TData, TError> {\n    const prevQuery = this.#currentQuery\n    const prevOptions = this.options\n    const prevResult = this.#currentResult as\n      | QueryObserverResult<TData, TError>\n      | undefined\n    const prevResultState = this.#currentResultState\n    const prevResultOptions = this.#currentResultOptions\n    const queryChange = query !== prevQuery\n    const queryInitialState = queryChange\n      ? query.state\n      : this.#currentQueryInitialState\n\n    const { state } = query\n    let newState = { ...state }\n    let isPlaceholderData = false\n    let data: TData | undefined\n\n    // Optimistically set result in fetching state if needed\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners()\n\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options)\n\n      const fetchOptionally =\n        mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions)\n\n      if (fetchOnMount || fetchOptionally) {\n        newState = {\n          ...newState,\n          ...fetchState(state.data, query.options),\n        }\n      }\n      if (options._optimisticResults === 'isRestoring') {\n        newState.fetchStatus = 'idle'\n      }\n    }\n\n    let { error, errorUpdatedAt, status } = newState\n\n    // Per default, use query data\n    data = newState.data as unknown as TData\n    let skipSelect = false\n\n    // use placeholderData if needed\n    if (\n      options.placeholderData !== undefined &&\n      data === undefined &&\n      status === 'pending'\n    ) {\n      let placeholderData\n\n      // Memoize placeholder data\n      if (\n        prevResult?.isPlaceholderData &&\n        options.placeholderData === prevResultOptions?.placeholderData\n      ) {\n        placeholderData = prevResult.data\n        // we have to skip select when reading this memoization\n        // because prevResult.data is already \"selected\"\n        skipSelect = true\n      } else {\n        // compute placeholderData\n        placeholderData =\n          typeof options.placeholderData === 'function'\n            ? (\n                options.placeholderData as unknown as PlaceholderDataFunction<TQueryData>\n              )(\n                this.#lastQueryWithDefinedData?.state.data,\n                this.#lastQueryWithDefinedData as any,\n              )\n            : options.placeholderData\n      }\n\n      if (placeholderData !== undefined) {\n        status = 'success'\n        data = replaceData(\n          prevResult?.data,\n          placeholderData as unknown,\n          options,\n        ) as TData\n        isPlaceholderData = true\n      }\n    }\n\n    // Select data if needed\n    // this also runs placeholderData through the select function\n    if (options.select && data !== undefined && !skipSelect) {\n      // Memoize select result\n      if (\n        prevResult &&\n        data === prevResultState?.data &&\n        options.select === this.#selectFn\n      ) {\n        data = this.#selectResult\n      } else {\n        try {\n          this.#selectFn = options.select\n          data = options.select(data as any)\n          data = replaceData(prevResult?.data, data, options)\n          this.#selectResult = data\n          this.#selectError = null\n        } catch (selectError) {\n          this.#selectError = selectError as TError\n        }\n      }\n    }\n\n    if (this.#selectError) {\n      error = this.#selectError as any\n      data = this.#selectResult\n      errorUpdatedAt = Date.now()\n      status = 'error'\n    }\n\n    const isFetching = newState.fetchStatus === 'fetching'\n    const isPending = status === 'pending'\n    const isError = status === 'error'\n\n    const isLoading = isPending && isFetching\n    const hasData = data !== undefined\n\n    const result: QueryObserverBaseResult<TData, TError> = {\n      status,\n      fetchStatus: newState.fetchStatus,\n      isPending,\n      isSuccess: status === 'success',\n      isError,\n      isInitialLoading: isLoading,\n      isLoading,\n      data,\n      dataUpdatedAt: newState.dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: newState.fetchFailureCount,\n      failureReason: newState.fetchFailureReason,\n      errorUpdateCount: newState.errorUpdateCount,\n      isFetched: newState.dataUpdateCount > 0 || newState.errorUpdateCount > 0,\n      isFetchedAfterMount:\n        newState.dataUpdateCount > queryInitialState.dataUpdateCount ||\n        newState.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isPending,\n      isLoadingError: isError && !hasData,\n      isPaused: newState.fetchStatus === 'paused',\n      isPlaceholderData,\n      isRefetchError: isError && hasData,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      promise: this.#currentThenable,\n      isEnabled: resolveEnabled(options.enabled, query) !== false,\n    }\n\n    const nextResult = result as QueryObserverResult<TData, TError>\n\n    if (this.options.experimental_prefetchInRender) {\n      const finalizeThenableIfPossible = (thenable: PendingThenable<TData>) => {\n        if (nextResult.status === 'error') {\n          thenable.reject(nextResult.error)\n        } else if (nextResult.data !== undefined) {\n          thenable.resolve(nextResult.data)\n        }\n      }\n\n      /**\n       * Create a new thenable and result promise when the results have changed\n       */\n      const recreateThenable = () => {\n        const pending =\n          (this.#currentThenable =\n          nextResult.promise =\n            pendingThenable())\n\n        finalizeThenableIfPossible(pending)\n      }\n\n      const prevThenable = this.#currentThenable\n      switch (prevThenable.status) {\n        case 'pending':\n          // Finalize the previous thenable if it was pending\n          // and we are still observing the same query\n          if (query.queryHash === prevQuery.queryHash) {\n            finalizeThenableIfPossible(prevThenable)\n          }\n          break\n        case 'fulfilled':\n          if (\n            nextResult.status === 'error' ||\n            nextResult.data !== prevThenable.value\n          ) {\n            recreateThenable()\n          }\n          break\n        case 'rejected':\n          if (\n            nextResult.status !== 'error' ||\n            nextResult.error !== prevThenable.reason\n          ) {\n            recreateThenable()\n          }\n          break\n      }\n    }\n\n    return nextResult\n  }\n\n  updateResult(): void {\n    const prevResult = this.#currentResult as\n      | QueryObserverResult<TData, TError>\n      | undefined\n\n    const nextResult = this.createResult(this.#currentQuery, this.options)\n\n    this.#currentResultState = this.#currentQuery.state\n    this.#currentResultOptions = this.options\n\n    if (this.#currentResultState.data !== undefined) {\n      this.#lastQueryWithDefinedData = this.#currentQuery\n    }\n\n    // Only notify and update result if something has changed\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return\n    }\n\n    this.#currentResult = nextResult\n\n    const shouldNotifyListeners = (): boolean => {\n      if (!prevResult) {\n        return true\n      }\n\n      const { notifyOnChangeProps } = this.options\n      const notifyOnChangePropsValue =\n        typeof notifyOnChangeProps === 'function'\n          ? notifyOnChangeProps()\n          : notifyOnChangeProps\n\n      if (\n        notifyOnChangePropsValue === 'all' ||\n        (!notifyOnChangePropsValue && !this.#trackedProps.size)\n      ) {\n        return true\n      }\n\n      const includedProps = new Set(\n        notifyOnChangePropsValue ?? this.#trackedProps,\n      )\n\n      if (this.options.throwOnError) {\n        includedProps.add('error')\n      }\n\n      return Object.keys(this.#currentResult).some((key) => {\n        const typedKey = key as keyof QueryObserverResult\n        const changed = this.#currentResult[typedKey] !== prevResult[typedKey]\n\n        return changed && includedProps.has(typedKey)\n      })\n    }\n\n    this.#notify({ listeners: shouldNotifyListeners() })\n  }\n\n  #updateQuery(): void {\n    const query = this.#client.getQueryCache().build(this.#client, this.options)\n\n    if (query === this.#currentQuery) {\n      return\n    }\n\n    const prevQuery = this.#currentQuery as\n      | Query<TQueryFnData, TError, TQueryData, TQueryKey>\n      | undefined\n    this.#currentQuery = query\n    this.#currentQueryInitialState = query.state\n\n    if (this.hasListeners()) {\n      prevQuery?.removeObserver(this)\n      query.addObserver(this)\n    }\n  }\n\n  onQueryUpdate(): void {\n    this.updateResult()\n\n    if (this.hasListeners()) {\n      this.#updateTimers()\n    }\n  }\n\n  #notify(notifyOptions: { listeners: boolean }): void {\n    notifyManager.batch(() => {\n      // First, trigger the listeners\n      if (notifyOptions.listeners) {\n        this.listeners.forEach((listener) => {\n          listener(this.#currentResult)\n        })\n      }\n\n      // Then the cache listeners\n      this.#client.getQueryCache().notify({\n        query: this.#currentQuery,\n        type: 'observerResultsUpdated',\n      })\n    })\n  }\n}\n\nfunction shouldLoadOnMount(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any>,\n): boolean {\n  return (\n    resolveEnabled(options.enabled, query) !== false &&\n    query.state.data === undefined &&\n    !(query.state.status === 'error' && options.retryOnMount === false)\n  )\n}\n\nfunction shouldFetchOnMount(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n): boolean {\n  return (\n    shouldLoadOnMount(query, options) ||\n    (query.state.data !== undefined &&\n      shouldFetchOn(query, options, options.refetchOnMount))\n  )\n}\n\nfunction shouldFetchOn(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n  field: (typeof options)['refetchOnMount'] &\n    (typeof options)['refetchOnWindowFocus'] &\n    (typeof options)['refetchOnReconnect'],\n) {\n  if (\n    resolveEnabled(options.enabled, query) !== false &&\n    resolveStaleTime(options.staleTime, query) !== 'static'\n  ) {\n    const value = typeof field === 'function' ? field(query) : field\n\n    return value === 'always' || (value !== false && isStale(query, options))\n  }\n  return false\n}\n\nfunction shouldFetchOptionally(\n  query: Query<any, any, any, any>,\n  prevQuery: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n  prevOptions: QueryObserverOptions<any, any, any, any, any>,\n): boolean {\n  return (\n    (query !== prevQuery ||\n      resolveEnabled(prevOptions.enabled, query) === false) &&\n    (!options.suspense || query.state.status !== 'error') &&\n    isStale(query, options)\n  )\n}\n\nfunction isStale(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n): boolean {\n  return (\n    resolveEnabled(options.enabled, query) !== false &&\n    query.isStaleByTime(resolveStaleTime(options.staleTime, query))\n  )\n}\n\n// this function would decide if we will update the observer's 'current'\n// properties after an optimistic reading via getOptimisticResult\nfunction shouldAssignObserverCurrentProperties<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  observer: QueryObserver<TQueryFnData, TError, TData, TQueryData, TQueryKey>,\n  optimisticResult: QueryObserverResult<TData, TError>,\n) {\n  // if the newly created result isn't what the observer is holding as current,\n  // then we'll need to update the properties as well\n  if (!shallowEqualObjects(observer.getCurrentResult(), optimisticResult)) {\n    return true\n  }\n\n  // basically, just keep previous properties if nothing changed\n  return false\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1809, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40tanstack/react-query/src/QueryErrorResetBoundary.tsx"],"sourcesContent":["'use client'\nimport * as React from 'react'\n\n// CONTEXT\nexport type QueryErrorResetFunction = () => void\nexport type QueryErrorIsResetFunction = () => boolean\nexport type QueryErrorClearResetFunction = () => void\n\nexport interface QueryErrorResetBoundaryValue {\n  clearReset: QueryErrorClearResetFunction\n  isReset: QueryErrorIsResetFunction\n  reset: QueryErrorResetFunction\n}\n\nfunction createValue(): QueryErrorResetBoundaryValue {\n  let isReset = false\n  return {\n    clearReset: () => {\n      isReset = false\n    },\n    reset: () => {\n      isReset = true\n    },\n    isReset: () => {\n      return isReset\n    },\n  }\n}\n\nconst QueryErrorResetBoundaryContext = React.createContext(createValue())\n\n// HOOK\n\nexport const useQueryErrorResetBoundary = () =>\n  React.useContext(QueryErrorResetBoundaryContext)\n\n// COMPONENT\n\nexport type QueryErrorResetBoundaryFunction = (\n  value: QueryErrorResetBoundaryValue,\n) => React.ReactNode\n\nexport interface QueryErrorResetBoundaryProps {\n  children: QueryErrorResetBoundaryFunction | React.ReactNode\n}\n\nexport const QueryErrorResetBoundary = ({\n  children,\n}: QueryErrorResetBoundaryProps) => {\n  const [value] = React.useState(() => createValue())\n  return (\n    <QueryErrorResetBoundaryContext.Provider value={value}>\n      {typeof children === 'function' ? children(value) : children}\n    </QueryErrorResetBoundaryContext.Provider>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AACA,YAAY,WAAW;AAkDnB;;;;AArCJ,SAAS,cAA4C;IACnD,IAAI,UAAU;IACd,OAAO;QACL,YAAY,MAAM;YAChB,UAAU;QACZ;QACA,OAAO,MAAM;YACX,UAAU;QACZ;QACA,SAAS,MAAM;YACb,OAAO;QACT;IACF;AACF;AAEA,IAAM,iCAAuC,8KAAA,CAAc,YAAY,CAAC;AAIjE,IAAM,6BAA6B,IAClC,2KAAA,CAAW,8BAA8B;AAY1C,IAAM,0BAA0B;QAAC,EACtC,QAAA,EACF,KAAoC;IAClC,MAAM,CAAC,KAAK,CAAA,GAAU,yKAAA;4CAAS,IAAM,YAAY,CAAC;;IAClD,OACE,aAAA,GAAA,IAAA,6KAAA,EAAC,+BAA+B,QAAA,EAA/B;QAAwC;QACtC,UAAA,OAAO,aAAa,aAAa,SAAS,KAAK,IAAI;IAAA,CACtD;AAEJ","debugId":null}},
    {"offset": {"line": 1853, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40tanstack/react-query/src/errorBoundaryUtils.ts"],"sourcesContent":["'use client'\nimport * as React from 'react'\nimport { shouldThrowError } from '@tanstack/query-core'\nimport type {\n  DefaultedQueryObserverOptions,\n  Query,\n  QueryKey,\n  QueryObserverResult,\n  ThrowOnError,\n} from '@tanstack/query-core'\nimport type { QueryErrorResetBoundaryValue } from './QueryErrorResetBoundary'\n\nexport const ensurePreventErrorBoundaryRetry = <\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  options: DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) => {\n  if (\n    options.suspense ||\n    options.throwOnError ||\n    options.experimental_prefetchInRender\n  ) {\n    // Prevent retrying failed query if the error boundary has not been reset yet\n    if (!errorResetBoundary.isReset()) {\n      options.retryOnMount = false\n    }\n  }\n}\n\nexport const useClearResetErrorBoundary = (\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) => {\n  React.useEffect(() => {\n    errorResetBoundary.clearReset()\n  }, [errorResetBoundary])\n}\n\nexport const getHasError = <\n  TData,\n  TError,\n  TQueryFnData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>({\n  result,\n  errorResetBoundary,\n  throwOnError,\n  query,\n  suspense,\n}: {\n  result: QueryObserverResult<TData, TError>\n  errorResetBoundary: QueryErrorResetBoundaryValue\n  throwOnError: ThrowOnError<TQueryFnData, TError, TQueryData, TQueryKey>\n  query: Query<TQueryFnData, TError, TQueryData, TQueryKey> | undefined\n  suspense: boolean | undefined\n}) => {\n  return (\n    result.isError &&\n    !errorResetBoundary.isReset() &&\n    !result.isFetching &&\n    query &&\n    ((suspense && result.data === undefined) ||\n      shouldThrowError(throwOnError, [result.error, query]))\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;AACA,YAAY,WAAW;AACvB,SAAS,wBAAwB;;;;AAU1B,IAAM,kCAAkC,CAO7C,SAOA,uBACG;IACH,IACE,QAAQ,QAAA,IACR,QAAQ,YAAA,IACR,QAAQ,6BAAA,EACR;QAEA,IAAI,CAAC,mBAAmB,OAAA,CAAQ,GAAG;YACjC,QAAQ,YAAA,GAAe;QACzB;IACF;AACF;AAEO,IAAM,6BAA6B,CACxC,uBACG;IACG,0KAAA;gDAAU,MAAM;YACpB,mBAAmB,UAAA,CAAW;QAChC;+CAAG;QAAC,kBAAkB;KAAC;AACzB;AAEO,IAAM,cAAc;QAMzB,EACA,MAAA,EACA,kBAAA,EACA,YAAA,EACA,KAAA,EACA,QAAA,EACF,KAMM;IACJ,OACE,OAAO,OAAA,IACP,CAAC,mBAAmB,OAAA,CAAQ,KAC5B,CAAC,OAAO,UAAA,IACR,SAAA,CACE,YAAY,OAAO,IAAA,KAAS,KAAA,SAC5B,8LAAA,EAAiB,cAAc;QAAC,OAAO,KAAA;QAAO,KAAK;KAAC,CAAA;AAE1D","debugId":null}},
    {"offset": {"line": 1896, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40tanstack/react-query/src/IsRestoringProvider.ts"],"sourcesContent":["'use client'\nimport * as React from 'react'\n\nconst IsRestoringContext = React.createContext(false)\n\nexport const useIsRestoring = () => React.useContext(IsRestoringContext)\nexport const IsRestoringProvider = IsRestoringContext.Provider\n"],"names":[],"mappings":";;;;;;;AACA,YAAY,WAAW;;;AAEvB,IAAM,qBAA2B,8KAAA,CAAc,KAAK;AAE7C,IAAM,iBAAiB,IAAY,2KAAA,CAAW,kBAAkB;AAChE,IAAM,sBAAsB,mBAAmB,QAAA","debugId":null}},
    {"offset": {"line": 1915, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40tanstack/react-query/src/suspense.ts"],"sourcesContent":["import type {\n  DefaultError,\n  DefaultedQueryObserverOptions,\n  Query,\n  QueryKey,\n  QueryObserver,\n  QueryObserverResult,\n} from '@tanstack/query-core'\nimport type { QueryErrorResetBoundaryValue } from './QueryErrorResetBoundary'\n\nexport const defaultThrowOnError = <\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  _error: TError,\n  query: Query<TQueryFnData, TError, TData, TQueryKey>,\n) => query.state.data === undefined\n\nexport const ensureSuspenseTimers = (\n  defaultedOptions: DefaultedQueryObserverOptions<any, any, any, any, any>,\n) => {\n  if (defaultedOptions.suspense) {\n    // Handle staleTime to ensure minimum 1000ms in Suspense mode\n    // This prevents unnecessary refetching when components remount after suspending\n    const MIN_SUSPENSE_TIME_MS = 1000\n\n    const clamp = (value: number | 'static' | undefined) =>\n      value === 'static'\n        ? value\n        : Math.max(value ?? MIN_SUSPENSE_TIME_MS, MIN_SUSPENSE_TIME_MS)\n\n    const originalStaleTime = defaultedOptions.staleTime\n    defaultedOptions.staleTime =\n      typeof originalStaleTime === 'function'\n        ? (...args) => clamp(originalStaleTime(...args))\n        : clamp(originalStaleTime)\n\n    if (typeof defaultedOptions.gcTime === 'number') {\n      defaultedOptions.gcTime = Math.max(\n        defaultedOptions.gcTime,\n        MIN_SUSPENSE_TIME_MS,\n      )\n    }\n  }\n}\n\nexport const willFetch = (\n  result: QueryObserverResult<any, any>,\n  isRestoring: boolean,\n) => result.isLoading && result.isFetching && !isRestoring\n\nexport const shouldSuspend = (\n  defaultedOptions:\n    | DefaultedQueryObserverOptions<any, any, any, any, any>\n    | undefined,\n  result: QueryObserverResult<any, any>,\n) => defaultedOptions?.suspense && result.isPending\n\nexport const fetchOptimistic = <\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  defaultedOptions: DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  observer: QueryObserver<TQueryFnData, TError, TData, TQueryData, TQueryKey>,\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) =>\n  observer.fetchOptimistic(defaultedOptions).catch(() => {\n    errorResetBoundary.clearReset()\n  })\n"],"names":[],"mappings":";;;;;;;;;;;;;AAUO,IAAM,sBAAsB,CAMjC,QACA,QACG,MAAM,KAAA,CAAM,IAAA,KAAS,KAAA;AAEnB,IAAM,uBAAuB,CAClC,qBACG;IACH,IAAI,iBAAiB,QAAA,EAAU;QAG7B,MAAM,uBAAuB;QAE7B,MAAM,QAAQ,CAAC,QACb,UAAU,WACN,QACA,KAAK,GAAA,sCAAI,QAAS,sBAAsB,oBAAoB;QAElE,MAAM,oBAAoB,iBAAiB,SAAA;QAC3C,iBAAiB,SAAA,GACf,OAAO,sBAAsB,aACzB;;gBAAI;;mBAAS,MAAM,kBAAkB,GAAG,IAAI,CAAC;YAC7C,MAAM,iBAAiB;QAE7B,IAAI,OAAO,iBAAiB,MAAA,KAAW,UAAU;YAC/C,iBAAiB,MAAA,GAAS,KAAK,GAAA,CAC7B,iBAAiB,MAAA,EACjB;QAEJ;IACF;AACF;AAEO,IAAM,YAAY,CACvB,QACA,cACG,OAAO,SAAA,IAAa,OAAO,UAAA,IAAc,CAAC;AAExC,IAAM,gBAAgB,CAC3B,kBAGA,8EACG,iBAAkB,QAAA,KAAY,OAAO,SAAA;AAEnC,IAAM,kBAAkB,CAO7B,kBAOA,UACA,qBAEA,SAAS,eAAA,CAAgB,gBAAgB,EAAE,KAAA,CAAM,MAAM;QACrD,mBAAmB,UAAA,CAAW;IAChC,CAAC","debugId":null}},
    {"offset": {"line": 1956, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40tanstack/react-query/src/useBaseQuery.ts"],"sourcesContent":["'use client'\nimport * as React from 'react'\n\nimport { isServer, noop, notifyManager } from '@tanstack/query-core'\nimport { useQueryClient } from './QueryClientProvider'\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary'\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary,\n} from './errorBoundaryUtils'\nimport { useIsRestoring } from './IsRestoringProvider'\nimport {\n  ensureSuspenseTimers,\n  fetchOptimistic,\n  shouldSuspend,\n  willFetch,\n} from './suspense'\nimport type {\n  QueryClient,\n  QueryKey,\n  QueryObserver,\n  QueryObserverResult,\n} from '@tanstack/query-core'\nimport type { UseBaseQueryOptions } from './types'\n\nexport function useBaseQuery<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  options: UseBaseQueryOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  Observer: typeof QueryObserver,\n  queryClient?: QueryClient,\n): QueryObserverResult<TData, TError> {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof options !== 'object' || Array.isArray(options)) {\n      throw new Error(\n        'Bad argument type. Starting with v5, only the \"Object\" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object',\n      )\n    }\n  }\n\n  const isRestoring = useIsRestoring()\n  const errorResetBoundary = useQueryErrorResetBoundary()\n  const client = useQueryClient(queryClient)\n  const defaultedOptions = client.defaultQueryOptions(options)\n\n  ;(client.getDefaultOptions().queries as any)?._experimental_beforeQuery?.(\n    defaultedOptions,\n  )\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!defaultedOptions.queryFn) {\n      console.error(\n        `[${defaultedOptions.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`,\n      )\n    }\n  }\n\n  // Make sure results are optimistically set in fetching state before subscribing or updating options\n  defaultedOptions._optimisticResults = isRestoring\n    ? 'isRestoring'\n    : 'optimistic'\n\n  ensureSuspenseTimers(defaultedOptions)\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary)\n\n  useClearResetErrorBoundary(errorResetBoundary)\n\n  // this needs to be invoked before creating the Observer because that can create a cache entry\n  const isNewCacheEntry = !client\n    .getQueryCache()\n    .get(defaultedOptions.queryHash)\n\n  const [observer] = React.useState(\n    () =>\n      new Observer<TQueryFnData, TError, TData, TQueryData, TQueryKey>(\n        client,\n        defaultedOptions,\n      ),\n  )\n\n  // note: this must be called before useSyncExternalStore\n  const result = observer.getOptimisticResult(defaultedOptions)\n\n  const shouldSubscribe = !isRestoring && options.subscribed !== false\n  React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => {\n        const unsubscribe = shouldSubscribe\n          ? observer.subscribe(notifyManager.batchCalls(onStoreChange))\n          : noop\n\n        // Update result to make sure we did not miss any query updates\n        // between creating the observer and subscribing to it.\n        observer.updateResult()\n\n        return unsubscribe\n      },\n      [observer, shouldSubscribe],\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult(),\n  )\n\n  React.useEffect(() => {\n    observer.setOptions(defaultedOptions)\n  }, [defaultedOptions, observer])\n\n  // Handle suspense\n  if (shouldSuspend(defaultedOptions, result)) {\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary)\n  }\n\n  // Handle error boundary\n  if (\n    getHasError({\n      result,\n      errorResetBoundary,\n      throwOnError: defaultedOptions.throwOnError,\n      query: client\n        .getQueryCache()\n        .get<\n          TQueryFnData,\n          TError,\n          TQueryData,\n          TQueryKey\n        >(defaultedOptions.queryHash),\n      suspense: defaultedOptions.suspense,\n    })\n  ) {\n    throw result.error\n  }\n\n  ;(client.getDefaultOptions().queries as any)?._experimental_afterQuery?.(\n    defaultedOptions,\n    result,\n  )\n\n  if (\n    defaultedOptions.experimental_prefetchInRender &&\n    !isServer &&\n    willFetch(result, isRestoring)\n  ) {\n    const promise = isNewCacheEntry\n      ? // Fetch immediately on render in order to ensure `.promise` is resolved even if the component is unmounted\n        fetchOptimistic(defaultedOptions, observer, errorResetBoundary)\n      : // subscribe to the \"cache promise\" so that we can finalize the currentThenable once data comes in\n        client.getQueryCache().get(defaultedOptions.queryHash)?.promise\n\n    promise?.catch(noop).finally(() => {\n      // `.updateResult()` will trigger `.#currentThenable` to finalize\n      observer.updateResult()\n    })\n  }\n\n  // Handle result property usage tracking\n  return !defaultedOptions.notifyOnChangeProps\n    ? observer.trackResult(result)\n    : result\n}\n"],"names":[],"mappings":";;;;AA2CM,QAAQ,IAAI,aAAa;;AA1C/B,YAAY,WAAW;;AAEvB,SAAS,UAAU,MAAM,qBAAqB;AAC9C,SAAS,sBAAsB;AAC/B,SAAS,kCAAkC;AAC3C;AAKA,SAAS,sBAAsB;AAC/B;;;;;;;;;AAcO,SAAS,aAOd,OAAA,EAOA,QAAA,EACA,WAAA,EACoC;QAclC,4JAuFA;IApGF,wCAA2C;QACzC,IAAI,OAAO,YAAY,YAAY,MAAM,OAAA,CAAQ,OAAO,GAAG;YACzD,MAAM,IAAI,MACR;QAEJ;IACF;IAEA,MAAM,kBAAc,2MAAA,CAAe;IACnC,MAAM,yBAAqB,2NAAA,CAA2B;IACtD,MAAM,aAAS,2MAAA,EAAe,WAAW;IACzC,MAAM,mBAAmB,OAAO,mBAAA,CAAoB,OAAO;gDAElD,iBAAA,CAAkB,EAAE,OAAA,uKAAiB,yBAAA,oMAC5C;IAGF,IAAI,QAAQ,IAAI,aAAa,WAAc;QACzC,IAAI,CAAC,iBAAiB,OAAA,EAAS;YAC7B,QAAQ,KAAA,CACN,IAA8B,OAA1B,iBAAiB,SAAS,EAAA;QAElC;IACF;IAGA,iBAAiB,kBAAA,GAAqB,cAClC,gBACA;IAEJ,IAAA,sMAAA,EAAqB,gBAAgB;IACrC,IAAA,2NAAA,EAAgC,kBAAkB,kBAAkB;IAEpE,IAAA,sNAAA,EAA2B,kBAAkB;IAG7C,MAAM,kBAAkB,CAAC,OACtB,aAAA,CAAc,EACd,GAAA,CAAI,iBAAiB,SAAS;IAEjC,MAAM,CAAC,QAAQ,CAAA,GAAU,yKAAA;iCACvB,IACE,IAAI,SACF,QACA;;IAKN,MAAM,SAAS,SAAS,mBAAA,CAAoB,gBAAgB;IAE5D,MAAM,kBAAkB,CAAC,eAAe,QAAQ,UAAA,KAAe;IACzD,qLAAA,CACE,4KAAA;yDACJ,CAAC,kBAAkB;YACjB,MAAM,cAAc,kBAChB,SAAS,SAAA,CAAU,mMAAA,CAAc,UAAA,CAAW,aAAa,CAAC,IAC1D,kLAAA;YAIJ,SAAS,YAAA,CAAa;YAEtB,OAAO;QACT;wDACA;QAAC;QAAU,eAAe;KAAA;6CAE5B,IAAM,SAAS,gBAAA,CAAiB;;6CAChC,IAAM,SAAS,gBAAA,CAAiB;;IAG5B,0KAAA;kCAAU,MAAM;YACpB,SAAS,UAAA,CAAW,gBAAgB;QACtC;iCAAG;QAAC;QAAkB,QAAQ;KAAC;IAG/B,QAAI,+LAAA,EAAc,kBAAkB,MAAM,GAAG;QAC3C,UAAM,iMAAA,EAAgB,kBAAkB,UAAU,kBAAkB;IACtE;IAGA,QACE,uMAAA,EAAY;QACV;QACA;QACA,cAAc,iBAAiB,YAAA;QAC/B,OAAO,OACJ,aAAA,CAAc,EACd,GAAA,CAKC,iBAAiB,SAAS;QAC9B,UAAU,iBAAiB,QAAA;IAC7B,CAAC,GACD;QACA,MAAM,OAAO,KAAA;IACf;;iDAES,iBAAA,CAAkB,EAAE,OAAA,wKAAiB,wBAAA,mMAC5C,kBACA;IAGF,IACE,iBAAiB,6BAAA,IACjB,CAAC,sLAAA,QACD,2LAAA,EAAU,QAAQ,WAAW,GAC7B;YAGkE,kGAAA;;QAFlE,MAAM,UAAU,kBAAA,2GAAA;YAEZ,iMAAA,EAAgB,kBAAkB,UAAU,kBAAkB,IAAA,oCAEvD,aAAA,CAAc,EAAE,GAAA,CAAI,iBAAiB,SAAS,CAAG,8DAAxD,0BAAwD,OAAA;QAE5D,oBAAA,8BAAA,QAAS,KAAA,CAAM,kLAAI,EAAE,OAAA,CAAQ,MAAM;YAEjC,SAAS,YAAA,CAAa;QACxB,CAAC;IACH;IAGA,OAAO,CAAC,iBAAiB,mBAAA,GACrB,SAAS,WAAA,CAAY,MAAM,IAC3B;AACN","debugId":null}},
    {"offset": {"line": 2058, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40tanstack/react-query/src/useQuery.ts"],"sourcesContent":["'use client'\nimport { QueryObserver } from '@tanstack/query-core'\nimport { useBaseQuery } from './useBaseQuery'\nimport type {\n  DefaultError,\n  NoInfer,\n  QueryClient,\n  QueryKey,\n} from '@tanstack/query-core'\nimport type {\n  DefinedUseQueryResult,\n  UseQueryOptions,\n  UseQueryResult,\n} from './types'\nimport type {\n  DefinedInitialDataOptions,\n  UndefinedInitialDataOptions,\n} from './queryOptions'\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: DefinedInitialDataOptions<TQueryFnData, TError, TData, TQueryKey>,\n  queryClient?: QueryClient,\n): DefinedUseQueryResult<NoInfer<TData>, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: UndefinedInitialDataOptions<TQueryFnData, TError, TData, TQueryKey>,\n  queryClient?: QueryClient,\n): UseQueryResult<NoInfer<TData>, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  queryClient?: QueryClient,\n): UseQueryResult<NoInfer<TData>, TError>\n\nexport function useQuery(options: UseQueryOptions, queryClient?: QueryClient) {\n  return useBaseQuery(options, QueryObserver, queryClient)\n}\n"],"names":[],"mappings":";;;;;AACA,SAAS,qBAAqB;AAC9B,SAAS,oBAAoB;;;;AA+CtB,SAAS,SAAS,OAAA,EAA0B,WAAA,EAA2B;IAC5E,WAAO,kMAAA,EAAa,SAAS,mMAAA,EAAe,WAAW;AACzD","debugId":null}},
    {"offset": {"line": 2077, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40tanstack/query-core/src/mutationObserver.ts"],"sourcesContent":["import { getDefaultState } from './mutation'\nimport { notifyManager } from './notifyManager'\nimport { Subscribable } from './subscribable'\nimport { hashKey, shallowEqualObjects } from './utils'\nimport type { QueryClient } from './queryClient'\nimport type {\n  DefaultError,\n  MutateOptions,\n  MutationFunctionContext,\n  MutationObserverOptions,\n  MutationObserverResult,\n} from './types'\nimport type { Action, Mutation } from './mutation'\n\n// TYPES\n\ntype MutationObserverListener<TData, TError, TVariables, TOnMutateResult> = (\n  result: MutationObserverResult<TData, TError, TVariables, TOnMutateResult>,\n) => void\n\n// CLASS\n\nexport class MutationObserver<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = void,\n  TOnMutateResult = unknown,\n> extends Subscribable<\n  MutationObserverListener<TData, TError, TVariables, TOnMutateResult>\n> {\n  options!: MutationObserverOptions<TData, TError, TVariables, TOnMutateResult>\n\n  #client: QueryClient\n  #currentResult: MutationObserverResult<\n    TData,\n    TError,\n    TVariables,\n    TOnMutateResult\n  > = undefined!\n  #currentMutation?: Mutation<TData, TError, TVariables, TOnMutateResult>\n  #mutateOptions?: MutateOptions<TData, TError, TVariables, TOnMutateResult>\n\n  constructor(\n    client: QueryClient,\n    options: MutationObserverOptions<\n      TData,\n      TError,\n      TVariables,\n      TOnMutateResult\n    >,\n  ) {\n    super()\n\n    this.#client = client\n    this.setOptions(options)\n    this.bindMethods()\n    this.#updateResult()\n  }\n\n  protected bindMethods(): void {\n    this.mutate = this.mutate.bind(this)\n    this.reset = this.reset.bind(this)\n  }\n\n  setOptions(\n    options: MutationObserverOptions<\n      TData,\n      TError,\n      TVariables,\n      TOnMutateResult\n    >,\n  ) {\n    const prevOptions = this.options as\n      | MutationObserverOptions<TData, TError, TVariables, TOnMutateResult>\n      | undefined\n    this.options = this.#client.defaultMutationOptions(options)\n    if (!shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getMutationCache().notify({\n        type: 'observerOptionsUpdated',\n        mutation: this.#currentMutation,\n        observer: this,\n      })\n    }\n\n    if (\n      prevOptions?.mutationKey &&\n      this.options.mutationKey &&\n      hashKey(prevOptions.mutationKey) !== hashKey(this.options.mutationKey)\n    ) {\n      this.reset()\n    } else if (this.#currentMutation?.state.status === 'pending') {\n      this.#currentMutation.setOptions(this.options)\n    }\n  }\n\n  protected onUnsubscribe(): void {\n    if (!this.hasListeners()) {\n      this.#currentMutation?.removeObserver(this)\n    }\n  }\n\n  onMutationUpdate(\n    action: Action<TData, TError, TVariables, TOnMutateResult>,\n  ): void {\n    this.#updateResult()\n\n    this.#notify(action)\n  }\n\n  getCurrentResult(): MutationObserverResult<\n    TData,\n    TError,\n    TVariables,\n    TOnMutateResult\n  > {\n    return this.#currentResult\n  }\n\n  reset(): void {\n    // reset needs to remove the observer from the mutation because there is no way to \"get it back\"\n    // another mutate call will yield a new mutation!\n    this.#currentMutation?.removeObserver(this)\n    this.#currentMutation = undefined\n    this.#updateResult()\n    this.#notify()\n  }\n\n  mutate(\n    variables: TVariables,\n    options?: MutateOptions<TData, TError, TVariables, TOnMutateResult>,\n  ): Promise<TData> {\n    this.#mutateOptions = options\n\n    this.#currentMutation?.removeObserver(this)\n\n    this.#currentMutation = this.#client\n      .getMutationCache()\n      .build(this.#client, this.options)\n\n    this.#currentMutation.addObserver(this)\n\n    return this.#currentMutation.execute(variables)\n  }\n\n  #updateResult(): void {\n    const state =\n      this.#currentMutation?.state ??\n      getDefaultState<TData, TError, TVariables, TOnMutateResult>()\n\n    this.#currentResult = {\n      ...state,\n      isPending: state.status === 'pending',\n      isSuccess: state.status === 'success',\n      isError: state.status === 'error',\n      isIdle: state.status === 'idle',\n      mutate: this.mutate,\n      reset: this.reset,\n    } as MutationObserverResult<TData, TError, TVariables, TOnMutateResult>\n  }\n\n  #notify(action?: Action<TData, TError, TVariables, TOnMutateResult>): void {\n    notifyManager.batch(() => {\n      // First trigger the mutate callbacks\n      if (this.#mutateOptions && this.hasListeners()) {\n        const variables = this.#currentResult.variables!\n        const onMutateResult = this.#currentResult.context\n\n        const context = {\n          client: this.#client,\n          meta: this.options.meta,\n          mutationKey: this.options.mutationKey,\n        } satisfies MutationFunctionContext\n\n        if (action?.type === 'success') {\n          this.#mutateOptions.onSuccess?.(\n            action.data,\n            variables,\n            onMutateResult,\n            context,\n          )\n          this.#mutateOptions.onSettled?.(\n            action.data,\n            null,\n            variables,\n            onMutateResult,\n            context,\n          )\n        } else if (action?.type === 'error') {\n          this.#mutateOptions.onError?.(\n            action.error,\n            variables,\n            onMutateResult,\n            context,\n          )\n          this.#mutateOptions.onSettled?.(\n            undefined,\n            action.error,\n            variables,\n            onMutateResult,\n            context,\n          )\n        }\n      }\n\n      // Then trigger the listeners\n      this.listeners.forEach((listener) => {\n        listener(this.#currentResult)\n      })\n    })\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2216, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40tanstack/react-query/src/useMutation.ts"],"sourcesContent":["'use client'\nimport * as React from 'react'\nimport {\n  MutationObserver,\n  noop,\n  notifyManager,\n  shouldThrowError,\n} from '@tanstack/query-core'\nimport { useQueryClient } from './QueryClientProvider'\nimport type {\n  UseMutateFunction,\n  UseMutationOptions,\n  UseMutationResult,\n} from './types'\nimport type { DefaultError, QueryClient } from '@tanstack/query-core'\n\n// HOOK\n\nexport function useMutation<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = void,\n  TOnMutateResult = unknown,\n>(\n  options: UseMutationOptions<TData, TError, TVariables, TOnMutateResult>,\n  queryClient?: QueryClient,\n): UseMutationResult<TData, TError, TVariables, TOnMutateResult> {\n  const client = useQueryClient(queryClient)\n\n  const [observer] = React.useState(\n    () =>\n      new MutationObserver<TData, TError, TVariables, TOnMutateResult>(\n        client,\n        options,\n      ),\n  )\n\n  React.useEffect(() => {\n    observer.setOptions(options)\n  }, [observer, options])\n\n  const result = React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) =>\n        observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer],\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult(),\n  )\n\n  const mutate = React.useCallback<\n    UseMutateFunction<TData, TError, TVariables, TOnMutateResult>\n  >(\n    (variables, mutateOptions) => {\n      observer.mutate(variables, mutateOptions).catch(noop)\n    },\n    [observer],\n  )\n\n  if (\n    result.error &&\n    shouldThrowError(observer.options.throwOnError, [result.error])\n  ) {\n    throw result.error\n  }\n\n  return { ...result, mutate, mutateAsync: result.mutate }\n}\n"],"names":[],"mappings":";;;;;AACA,YAAY,WAAW;;;AACvB;AAMA,SAAS,sBAAsB;;;;;AAUxB,SAAS,YAMd,OAAA,EACA,WAAA,EAC+D;IAC/D,MAAM,aAAS,2MAAA,EAAe,WAAW;IAEzC,MAAM,CAAC,QAAQ,CAAA,GAAU,yKAAA;gCACvB,IACE,IAAI,yMAAA,CACF,QACA;;IAIA,0KAAA;iCAAU,MAAM;YACpB,SAAS,UAAA,CAAW,OAAO;QAC7B;gCAAG;QAAC;QAAU,OAAO;KAAC;IAEtB,MAAM,SAAe,qLAAA,CACb,4KAAA;oDACJ,CAAC,gBACC,SAAS,SAAA,CAAU,mMAAA,CAAc,UAAA,CAAW,aAAa,CAAC;mDAC5D;QAAC,QAAQ;KAAA;oDAEX,IAAM,SAAS,gBAAA,CAAiB;;oDAChC,IAAM,SAAS,gBAAA,CAAiB;;IAGlC,MAAM,SAAe,4KAAA;2CAGnB,CAAC,WAAW,kBAAkB;YAC5B,SAAS,MAAA,CAAO,WAAW,aAAa,EAAE,KAAA,CAAM,kLAAI;QACtD;0CACA;QAAC,QAAQ;KAAA;IAGX,IACE,OAAO,KAAA,QACP,8LAAA,EAAiB,SAAS,OAAA,CAAQ,YAAA,EAAc;QAAC,OAAO,KAAK;KAAC,GAC9D;QACA,MAAM,OAAO,KAAA;IACf;IAEA,OAAO;QAAE,GAAG,MAAA;QAAQ;QAAQ,aAAa,OAAO,MAAA;IAAO;AACzD","debugId":null}},
    {"offset": {"line": 2276, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tobi/Desktop/movie-search-refactor/frontend/node_modules/%40swc/helpers/esm/_define_property.js"],"sourcesContent":["function _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n    } else obj[key] = value;\n\n    return obj;\n}\nexport { _define_property as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS,iBAAiB,GAAG,EAAE,GAAG,EAAE,KAAK;IACrC,IAAI,OAAO,KAAK;QACZ,OAAO,cAAc,CAAC,KAAK,KAAK;YAAE,OAAO;YAAO,YAAY;YAAM,cAAc;YAAM,UAAU;QAAK;IACzG,OAAO,GAAG,CAAC,IAAI,GAAG;IAElB,OAAO;AACX","ignoreList":[0],"debugId":null}}]
}