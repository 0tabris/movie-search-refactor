(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77390,e=>{"use strict";e.s(["default",()=>o]);var a=e.i(43476),s=e.i(71645),t=e.i(47068),i=e.i(48679),r=e.i(19455),d=e.i(81068),l=e.i(22016);let o=()=>{let[e,o]=(0,s.useState)(1),{data:n,isLoading:c,error:m}=(0,d.useFavorites)(e),x=(0,d.useAddToFavorites)(),g=(0,d.useRemoveFromFavorites)(),h=async a=>{if(!x.isPending&&!g.isPending)try{await g.mutateAsync(a.imdbID),(null==n?void 0:n.data.favorites.length)===1&&e>1&&o(e-1)}catch(e){console.error("Failed to remove favorite:",e)}},v=(null==n?void 0:n.data.totalResults)?parseInt(n.data.totalResults,10):0,u=x.isPending||g.isPending;return c?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-hero",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-primary border-r-transparent"}),(0,a.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading favorites..."})]})})}):m?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-hero",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-xl text-red-500 mb-2",children:"Error loading favorites"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:m.message})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-hero",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-3 mb-6",children:(0,a.jsx)("h1",{className:"text-4xl md:text-5xl text-white font-bold bg-clip-text",children:"My Favorites"})}),(0,a.jsxs)("p",{className:"text-center text-muted-foreground",children:[v," ",1===v?"movie":"movies"," saved"]})]}),0===v?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"No Favorites Yet"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"Start adding movies to your favorites from the search page"}),(0,a.jsx)(l.default,{href:"/",children:(0,a.jsx)(r.Button,{className:"bg-gradient-primary",children:"Search Movies"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:null==n?void 0:n.data.favorites.map(e=>(0,a.jsx)(t.default,{movie:e,isFavorite:!0,onToggleFavorite:h,disabled:u},e.imdbID))}),(null==n?void 0:n.data.totalPages)&&n.data.totalPages>1&&(0,a.jsx)(i.default,{currentPage:e,totalPages:n.data.totalPages,onPageChange:e=>{let a=(null==n?void 0:n.data.totalPages)||1;e>=1&&e<=a&&(o(e),window.scrollTo({top:0,behavior:"smooth"}))}})]})]})})}}]);