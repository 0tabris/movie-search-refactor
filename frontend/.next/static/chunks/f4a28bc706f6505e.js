(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81068,e=>{"use strict";e.s(["useAddToFavorites",()=>ex,"useFavorites",()=>ey,"useRemoveFromFavorites",()=>ek,"useSearchMovies",()=>ew],81068);var t,s,i,r,a,o,n,l,h,u,c,d,v,p,f,_,m,b,g,w,y,x,k,j,C,M,R,S,E,O,T=e.i(39946),F=e.i(70292),W=e.i(62351),N=e.i(37696),U=e.i(88245),q=e.i(75555),L=e.i(40143),I=e.i(86491),Q=e.i(15823),P=e.i(93803),A=e.i(19273),D=e.i(80166),K=(t=new WeakMap,s=new WeakMap,i=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,n=new WeakMap,l=new WeakMap,h=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,v=new WeakMap,p=new WeakMap,f=new WeakMap,_=new WeakSet,m=new WeakSet,b=new WeakSet,g=new WeakSet,w=new WeakSet,y=new WeakSet,x=new WeakSet,k=new WeakSet,j=new WeakSet,class extends Q.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,T._)(this,s).addObserver(this),B((0,T._)(this,s),this.options)?(0,N._)(this,_,J).call(this):this.updateResult(),(0,N._)(this,w,Z).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return z((0,T._)(this,s),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return z((0,T._)(this,s),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,N._)(this,y,$).call(this),(0,N._)(this,x,ee).call(this),(0,T._)(this,s).removeObserver(this)}setOptions(e){let i=this.options,r=(0,T._)(this,s);if(this.options=(0,T._)(this,t).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,A.resolveEnabled)(this.options.enabled,(0,T._)(this,s)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,N._)(this,k,et).call(this),(0,T._)(this,s).setOptions(this.options),i._defaulted&&!(0,A.shallowEqualObjects)(this.options,i)&&(0,T._)(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,T._)(this,s),observer:this});let a=this.hasListeners();a&&V((0,T._)(this,s),r,this.options,i)&&(0,N._)(this,_,J).call(this),this.updateResult(),a&&((0,T._)(this,s)!==r||(0,A.resolveEnabled)(this.options.enabled,(0,T._)(this,s))!==(0,A.resolveEnabled)(i.enabled,(0,T._)(this,s))||(0,A.resolveStaleTime)(this.options.staleTime,(0,T._)(this,s))!==(0,A.resolveStaleTime)(i.staleTime,(0,T._)(this,s)))&&(0,N._)(this,m,X).call(this);let o=(0,N._)(this,b,G).call(this);a&&((0,T._)(this,s)!==r||(0,A.resolveEnabled)(this.options.enabled,(0,T._)(this,s))!==(0,A.resolveEnabled)(i.enabled,(0,T._)(this,s))||o!==(0,T._)(this,p))&&(0,N._)(this,g,Y).call(this,o)}getOptimisticResult(e){var i,n;let l=(0,T._)(this,t).getQueryCache().build((0,T._)(this,t),e),h=this.createResult(l,e);return i=this,n=h,(0,A.shallowEqualObjects)(i.getCurrentResult(),n)||((0,W._)(this,r,h),(0,W._)(this,o,this.options),(0,W._)(this,a,(0,T._)(this,s).state)),h}getCurrentResult(){return(0,T._)(this,r)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==(0,T._)(this,n).status||(0,T._)(this,n).reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){(0,T._)(this,f).add(e)}getCurrentQuery(){return(0,T._)(this,s)}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){let s=(0,T._)(this,t).defaultQueryOptions(e),i=(0,T._)(this,t).getQueryCache().build((0,T._)(this,t),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){var t;return(0,N._)(this,_,J).call(this,{...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),(0,T._)(this,r)))}createResult(e,t){let d,v=(0,T._)(this,s),p=this.options,f=(0,T._)(this,r),_=(0,T._)(this,a),m=(0,T._)(this,o),b=e!==v?e.state:(0,T._)(this,i),{state:g}=e,w={...g},y=!1;if(t._optimisticResults){let s=this.hasListeners(),i=!s&&B(e,t),r=s&&V(e,v,t,p);(i||r)&&(w={...w,...(0,I.fetchState)(g.data,e.options)}),"isRestoring"===t._optimisticResults&&(w.fetchStatus="idle")}let{error:x,errorUpdatedAt:k,status:j}=w;d=w.data;let C=!1;if(void 0!==t.placeholderData&&void 0===d&&"pending"===j){let e;if((null==f?void 0:f.isPlaceholderData)&&t.placeholderData===(null==m?void 0:m.placeholderData))e=f.data,C=!0;else{var M;e="function"==typeof t.placeholderData?t.placeholderData(null==(M=(0,T._)(this,c))?void 0:M.state.data,(0,T._)(this,c)):t.placeholderData}void 0!==e&&(j="success",d=(0,A.replaceData)(null==f?void 0:f.data,e,t),y=!0)}if(t.select&&void 0!==d&&!C)if(f&&d===(null==_?void 0:_.data)&&t.select===(0,T._)(this,h))d=(0,T._)(this,u);else try{(0,W._)(this,h,t.select),d=t.select(d),d=(0,A.replaceData)(null==f?void 0:f.data,d,t),(0,W._)(this,u,d),(0,W._)(this,l,null)}catch(e){(0,W._)(this,l,e)}(0,T._)(this,l)&&(x=(0,T._)(this,l),d=(0,T._)(this,u),k=Date.now(),j="error");let R="fetching"===w.fetchStatus,S="pending"===j,E="error"===j,O=S&&R,F=void 0!==d,N={status:j,fetchStatus:w.fetchStatus,isPending:S,isSuccess:"success"===j,isError:E,isInitialLoading:O,isLoading:O,data:d,dataUpdatedAt:w.dataUpdatedAt,error:x,errorUpdatedAt:k,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>b.dataUpdateCount||w.errorUpdateCount>b.errorUpdateCount,isFetching:R,isRefetching:R&&!S,isLoadingError:E&&!F,isPaused:"paused"===w.fetchStatus,isPlaceholderData:y,isRefetchError:E&&F,isStale:H(e,t),refetch:this.refetch,promise:(0,T._)(this,n),isEnabled:!1!==(0,A.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===N.status?e.reject(N.error):void 0!==N.data&&e.resolve(N.data)},s=()=>{t((0,W._)(this,n,N.promise=(0,P.pendingThenable)()))},i=(0,T._)(this,n);switch(i.status){case"pending":e.queryHash===v.queryHash&&t(i);break;case"fulfilled":("error"===N.status||N.data!==i.value)&&s();break;case"rejected":("error"!==N.status||N.error!==i.reason)&&s()}}return N}updateResult(){let e=(0,T._)(this,r),t=this.createResult((0,T._)(this,s),this.options);if((0,W._)(this,a,(0,T._)(this,s).state),(0,W._)(this,o,this.options),void 0!==(0,T._)(this,a).data&&(0,W._)(this,c,(0,T._)(this,s)),(0,A.shallowEqualObjects)(t,e))return;(0,W._)(this,r,t);let i=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,T._)(this,f).size)return!0;let i=new Set(null!=s?s:(0,T._)(this,f));return this.options.throwOnError&&i.add("error"),Object.keys((0,T._)(this,r)).some(t=>(0,T._)(this,r)[t]!==e[t]&&i.has(t))};(0,N._)(this,j,es).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,N._)(this,w,Z).call(this)}constructor(e,C){super(),(0,U._)(this,_),(0,U._)(this,m),(0,U._)(this,b),(0,U._)(this,g),(0,U._)(this,w),(0,U._)(this,y),(0,U._)(this,x),(0,U._)(this,k),(0,U._)(this,j),(0,F._)(this,t,{writable:!0,value:void 0}),(0,F._)(this,s,{writable:!0,value:void 0}),(0,F._)(this,i,{writable:!0,value:void 0}),(0,F._)(this,r,{writable:!0,value:void 0}),(0,F._)(this,a,{writable:!0,value:void 0}),(0,F._)(this,o,{writable:!0,value:void 0}),(0,F._)(this,n,{writable:!0,value:void 0}),(0,F._)(this,l,{writable:!0,value:void 0}),(0,F._)(this,h,{writable:!0,value:void 0}),(0,F._)(this,u,{writable:!0,value:void 0}),(0,F._)(this,c,{writable:!0,value:void 0}),(0,F._)(this,d,{writable:!0,value:void 0}),(0,F._)(this,v,{writable:!0,value:void 0}),(0,F._)(this,p,{writable:!0,value:void 0}),(0,F._)(this,f,{writable:!0,value:new Set}),this.options=C,(0,W._)(this,t,e),(0,W._)(this,l,null),(0,W._)(this,n,(0,P.pendingThenable)()),this.bindMethods(),this.setOptions(C)}});function B(e,t){return!1!==(0,A.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&z(e,t,t.refetchOnMount)}function z(e,t,s){if(!1!==(0,A.resolveEnabled)(t.enabled,e)&&"static"!==(0,A.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&H(e,t)}return!1}function V(e,t,s,i){return(e!==t||!1===(0,A.resolveEnabled)(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&H(e,s)}function H(e,t){return!1!==(0,A.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,A.resolveStaleTime)(t.staleTime,e))}function J(e){(0,N._)(this,k,et).call(this);let t=(0,T._)(this,s).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(A.noop)),t}function X(){(0,N._)(this,y,$).call(this);let e=(0,A.resolveStaleTime)(this.options.staleTime,(0,T._)(this,s));if(A.isServer||(0,T._)(this,r).isStale||!(0,A.isValidTimeout)(e))return;let t=(0,A.timeUntilStale)((0,T._)(this,r).dataUpdatedAt,e);(0,W._)(this,d,D.timeoutManager.setTimeout(()=>{(0,T._)(this,r).isStale||this.updateResult()},t+1))}function G(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,T._)(this,s)):this.options.refetchInterval)&&e}function Y(e){(0,N._)(this,x,ee).call(this),(0,W._)(this,p,e),!A.isServer&&!1!==(0,A.resolveEnabled)(this.options.enabled,(0,T._)(this,s))&&(0,A.isValidTimeout)((0,T._)(this,p))&&0!==(0,T._)(this,p)&&(0,W._)(this,v,D.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||q.focusManager.isFocused())&&(0,N._)(this,_,J).call(this)},(0,T._)(this,p)))}function Z(){(0,N._)(this,m,X).call(this),(0,N._)(this,g,Y).call(this,(0,N._)(this,b,G).call(this))}function $(){(0,T._)(this,d)&&(D.timeoutManager.clearTimeout((0,T._)(this,d)),(0,W._)(this,d,void 0))}function ee(){(0,T._)(this,v)&&(D.timeoutManager.clearInterval((0,T._)(this,v)),(0,W._)(this,v,void 0))}function et(){let e=(0,T._)(this,t).getQueryCache().build((0,T._)(this,t),this.options);if(e===(0,T._)(this,s))return;let r=(0,T._)(this,s);(0,W._)(this,s,e),(0,W._)(this,i,e.state),this.hasListeners()&&(null==r||r.removeObserver(this),e.addObserver(this))}function es(e){L.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,T._)(this,r))}),(0,T._)(this,t).getQueryCache().notify({query:(0,T._)(this,s),type:"observerResultsUpdated"})})}var ei=e.i(47167),er=e.i(71645),ea=e.i(12598);e.i(43476);var eo=er.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),en=er.createContext(!1);en.Provider;var el=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function eh(e,t){return function(e,t,s){var i,r,a,o,n;let l=er.useContext(en),h=er.useContext(eo),u=(0,ea.useQueryClient)(s),c=u.defaultQueryOptions(e);if(null==(r=u.getDefaultOptions().queries)||null==(i=r._experimental_beforeQuery)||i.call(r,c),c._optimisticResults=l?"isRestoring":"optimistic",c.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=c.staleTime;c.staleTime="function"==typeof t?function(){for(var s=arguments.length,i=Array(s),r=0;r<s;r++)i[r]=arguments[r];return e(t(...i))}:e(t),"number"==typeof c.gcTime&&(c.gcTime=Math.max(c.gcTime,1e3))}(c.suspense||c.throwOnError||c.experimental_prefetchInRender)&&!h.isReset()&&(c.retryOnMount=!1),er.useEffect(()=>{h.clearReset()},[h]);let d=!u.getQueryCache().get(c.queryHash),[v]=er.useState(()=>new t(u,c)),p=v.getOptimisticResult(c),f=!l&&!1!==e.subscribed;if(er.useSyncExternalStore(er.useCallback(e=>{let t=f?v.subscribe(L.notifyManager.batchCalls(e)):A.noop;return v.updateResult(),t},[v,f]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),er.useEffect(()=>{v.setOptions(c)},[c,v]),(null==c?void 0:c.suspense)&&p.isPending)throw el(c,v,h);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:i,query:r,suspense:a}=e;return t.isError&&!s.isReset()&&!t.isFetching&&r&&(a&&void 0===t.data||(0,A.shouldThrowError)(i,[t.error,r]))})({result:p,errorResetBoundary:h,throwOnError:c.throwOnError,query:u.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if(null==(o=u.getDefaultOptions().queries)||null==(a=o._experimental_afterQuery)||a.call(o,c,p),c.experimental_prefetchInRender&&!A.isServer&&p.isLoading&&p.isFetching&&!l){let e=d?el(c,v,h):null==(n=u.getQueryCache().get(c.queryHash))?void 0:n.promise;null==e||e.catch(A.noop).finally(()=>{v.updateResult()})}return c.notifyOnChangeProps?p:v.trackResult(p)}(e,K,t)}var eu=e.i(14272),ec=Q,ed=(C=new WeakMap,M=new WeakMap,R=new WeakMap,S=new WeakMap,E=new WeakSet,O=new WeakSet,class extends ec.Subscribable{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let s=this.options;this.options=(0,T._)(this,C).defaultMutationOptions(e),(0,A.shallowEqualObjects)(this.options,s)||(0,T._)(this,C).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,T._)(this,R),observer:this}),(null==s?void 0:s.mutationKey)&&this.options.mutationKey&&(0,A.hashKey)(s.mutationKey)!==(0,A.hashKey)(this.options.mutationKey)?this.reset():(null==(t=(0,T._)(this,R))?void 0:t.state.status)==="pending"&&(0,T._)(this,R).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=(0,T._)(this,R))||e.removeObserver(this)}}onMutationUpdate(e){(0,N._)(this,E,ev).call(this),(0,N._)(this,O,ep).call(this,e)}getCurrentResult(){return(0,T._)(this,M)}reset(){var e;null==(e=(0,T._)(this,R))||e.removeObserver(this),(0,W._)(this,R,void 0),(0,N._)(this,E,ev).call(this),(0,N._)(this,O,ep).call(this)}mutate(e,t){var s;return(0,W._)(this,S,t),null==(s=(0,T._)(this,R))||s.removeObserver(this),(0,W._)(this,R,(0,T._)(this,C).getMutationCache().build((0,T._)(this,C),this.options)),(0,T._)(this,R).addObserver(this),(0,T._)(this,R).execute(e)}constructor(e,t){super(),(0,U._)(this,E),(0,U._)(this,O),(0,F._)(this,C,{writable:!0,value:void 0}),(0,F._)(this,M,{writable:!0,value:void 0}),(0,F._)(this,R,{writable:!0,value:void 0}),(0,F._)(this,S,{writable:!0,value:void 0}),(0,W._)(this,C,e),this.setOptions(t),this.bindMethods(),(0,N._)(this,E,ev).call(this)}});function ev(){var e,t;let s=null!=(t=null==(e=(0,T._)(this,R))?void 0:e.state)?t:(0,eu.getDefaultState)();(0,W._)(this,M,{...s,isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset})}function ep(e){L.notifyManager.batch(()=>{if((0,T._)(this,S)&&this.hasListeners()){var t,s,i,r,a,o,n,l;let h=(0,T._)(this,M).variables,u=(0,T._)(this,M).context,c={client:(0,T._)(this,C),meta:this.options.meta,mutationKey:this.options.mutationKey};(null==e?void 0:e.type)==="success"?(null==(t=(s=(0,T._)(this,S)).onSuccess)||t.call(s,e.data,h,u,c),null==(i=(r=(0,T._)(this,S)).onSettled)||i.call(r,e.data,null,h,u,c)):(null==e?void 0:e.type)==="error"&&(null==(a=(o=(0,T._)(this,S)).onError)||a.call(o,e.error,h,u,c),null==(n=(l=(0,T._)(this,S)).onSettled)||n.call(l,void 0,e.error,h,u,c))}this.listeners.forEach(e=>{e((0,T._)(this,M))})})}function ef(e,t){let s=(0,ea.useQueryClient)(t),[i]=er.useState(()=>new ed(s,e));er.useEffect(()=>{i.setOptions(e)},[i,e]);let r=er.useSyncExternalStore(er.useCallback(e=>i.subscribe(L.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),a=er.useCallback((e,t)=>{i.mutate(e,t).catch(A.noop)},[i]);if(r.error&&(0,A.shouldThrowError)(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:a,mutateAsync:r.mutate}}function e_(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let em=ei.default.env.NEXT_PUBLIC_API_URL||"http://localhost:3001/movies";class eb extends Error{constructor(e,t,s){super(e),e_(this,"status",void 0),e_(this,"data",void 0),this.status=t,this.data=s,this.name="ApiError"}}let eg={searchMovies:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e||"string"!=typeof e||0===e.trim().length)throw new eb("Search query is required");if(!Number.isInteger(t)||t<1)throw new eb("Page must be a positive integer");try{let s=encodeURIComponent(e.trim()),i=await fetch("".concat(em,"/search?q=").concat(s,"&page=").concat(t));if(!i.ok){let e=await i.json().catch(()=>({}));throw new eb(e.message||"Failed to search movies",i.status,e)}return await i.json()}catch(e){if(e instanceof eb)throw e;if(e instanceof TypeError&&"Failed to fetch"===e.message)throw new eb("Network error: Unable to connect to server",0);throw new eb("An unexpected error occurred while searching movies")}},getFavorites:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!Number.isInteger(e)||e<1)throw new eb("Page must be a positive integer");try{let t=await fetch("".concat(em,"/favorites/list?page=").concat(e));if(!t.ok){let s=await t.json().catch(()=>({}));if(404===t.status)return{data:{favorites:[],count:0,totalResults:"0",currentPage:e,totalPages:0}};throw new eb(s.message||"Failed to get favorites",t.status,s)}return t.json()}catch(e){if(e instanceof eb)throw e;if(e instanceof TypeError&&"Failed to fetch"===e.message)throw new eb("Network error: Unable to connect to server",0);throw new eb("An unexpected error occurred while fetching favorites")}},addToFavorites:async e=>{if(!e||!e.imdbID)throw new eb("Invalid movie data");try{let t=await fetch("".concat(em,"/favorites"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({}));throw new eb(e.message||"Failed to add movie to favorites",t.status,e)}}catch(e){if(e instanceof eb)throw e;if(e instanceof TypeError&&"Failed to fetch"===e.message)throw new eb("Network error: Unable to connect to server",0);throw new eb("An unexpected error occurred while adding to favorites")}},removeFromFavorites:async e=>{if(!e||"string"!=typeof e||0===e.trim().length)throw new eb("Movie ID is required");try{let t=await fetch("".concat(em,"/favorites/").concat(encodeURIComponent(e)),{method:"DELETE"});if(!t.ok){let e=await t.json().catch(()=>({}));throw new eb(e.message||"Failed to remove movie from favorites",t.status,e)}}catch(e){if(e instanceof eb)throw e;if(e instanceof TypeError&&"Failed to fetch"===e.message)throw new eb("Network error: Unable to connect to server",0);throw new eb("An unexpected error occurred while removing from favorites")}}},ew=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return eh({queryKey:["movies","search",e,t],queryFn:()=>eg.searchMovies(e,t),enabled:s&&e.length>0,retry:1,staleTime:6e4})},ey=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return eh({queryKey:["movies","favorites",e],queryFn:()=>eg.getFavorites(e),retry:1,staleTime:3e4})},ex=()=>{let e=(0,ea.useQueryClient)();return ef({mutationFn:eg.addToFavorites,onSuccess:()=>{e.invalidateQueries({queryKey:["movies","favorites"]}),e.invalidateQueries({queryKey:["movies","search"]})},onError:e=>{console.error("Failed to add to favorites:",e)}})},ek=()=>{let e=(0,ea.useQueryClient)();return ef({mutationFn:eg.removeFromFavorites,onSuccess:()=>{e.invalidateQueries({queryKey:["movies","favorites"]}),e.invalidateQueries({queryKey:["movies","search"]})},onError:e=>{console.error("Failed to remove from favorites:",e)}})}},47068,19455,48679,e=>{"use strict";e.s(["default",()=>r],47068);var t=e.i(43476),s=e.i(71645);let i=(0,s.memo)(e=>{let{movie:i,isFavorite:r,onToggleFavorite:a,disabled:o=!1}=e,[n,l]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!0),c=i.poster&&"N/A"!==i.poster&&""!==i.poster.trim();return(0,t.jsxs)("div",{className:"group relative bg-white rounded-lg overflow-hidden hover:mouse-pointer shadow-md hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[(0,t.jsxs)("div",{className:"relative aspect-[2/3] overflow-hidden",children:[c&&!n?(0,t.jsxs)(t.Fragment,{children:[h&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-100 animate-pulse"}),(0,t.jsx)("img",{src:i.poster,alt:i.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:()=>{l(!0),u(!1)},onLoad:()=>{u(!1)},loading:"lazy"})]}):(0,t.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center text-gray-500",children:[(0,t.jsx)("svg",{className:"h-12 w-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("p",{className:"text-sm",children:"No Image"})]})}),(0,t.jsx)("button",{onClick:()=>{o||a(i)},disabled:o,className:"absolute top-2 right-2 p-2 rounded-full transition-all duration-200 ".concat(o?"opacity-50 cursor-not-allowed":r?"bg-red-500 text-white hover:bg-red-600":"bg-white/80 text-gray-600 hover:bg-white hover:text-red-500"),"aria-label":r?"Remove from favorites":"Add to favorites",children:(0,t.jsx)("svg",{className:"h-4 w-4 ".concat(r?"fill-current":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-1 line-clamp-2 text-black group-hover:text-blue-600 transition-colors",children:i.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("span",{children:i.year})]})]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none"})]})});i.displayName="MovieCard";let r=i;e.s(["default",()=>l],48679),e.s(["Button",()=>a],19455);let a=s.forwardRef((e,s)=>{let{className:i="",variant:r="default",size:a="default",children:o,...n}=e,l="".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({default:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[r]," ").concat({default:"h-10 px-4 py-2 text-sm",sm:"h-8 px-3 text-xs",lg:"h-12 px-8 text-base",icon:"h-10 w-10"}[a]," ").concat(i);return(0,t.jsx)("button",{className:l,ref:s,...n,children:o})});a.displayName="Button";let o=e=>{let{className:s}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})},n=e=>{let{className:s}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})},l=e=>{let{currentPage:s,totalPages:i,onPageChange:r}=e,l=Math.max(1,s-Math.floor(2.5)),h=Math.min(i,l+5-1);h-l+1<5&&(l=Math.max(1,h-5+1));let u=Array.from({length:h-l+1},(e,t)=>l+t);return(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-8",children:[(0,t.jsx)(a,{variant:"secondary",size:"icon",onClick:()=>r(s-1),disabled:1===s,children:(0,t.jsx)(o,{className:"h-4 w-4"})}),l>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a,{variant:"secondary",onClick:()=>r(1),children:"1"}),l>2&&(0,t.jsx)("span",{className:"text-muted-foreground",children:"..."})]}),u.map(e=>(0,t.jsx)(a,{variant:e===s?"default":"secondary",onClick:()=>r(e),className:e===s?"bg-gradient-primary":"",children:e},e)),h<i&&(0,t.jsxs)(t.Fragment,{children:[h<i-1&&(0,t.jsx)("span",{className:"text-muted-foreground",children:"..."}),(0,t.jsx)(a,{variant:"secondary",onClick:()=>r(i),children:i})]}),(0,t.jsx)(a,{variant:"secondary",size:"icon",onClick:()=>r(s+1),disabled:s===i,children:(0,t.jsx)(n,{className:"h-4 w-4"})})]})}}]);