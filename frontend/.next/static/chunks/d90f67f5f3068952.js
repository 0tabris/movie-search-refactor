(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";e.s(["default",()=>n],52683);var t=e.i(43476),s=e.i(71645),a=e.i(81068);let r=s.forwardRef((e,s)=>{let{className:a="",type:r,...o}=e;return(0,t.jsx)("input",{type:r,className:"".concat("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50"," ").concat(a),ref:s,...o})});r.displayName="Input";let o=e=>{let{onSearch:a}=e,[o,l]=(0,s.useState)("");return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.trim()&&a(o)},className:"relative max-w-2xl mx-auto",children:[(0,t.jsx)("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,t.jsx)(r,{type:"text",placeholder:"Search for movies...",value:o,onChange:e=>l(e.target.value),className:"pl-12 h-14 text-lg bg-white border-gray-300 focus:border-blue-500 transition-colors text-black"})]})};var l=e.i(47068),i=e.i(48679);function n(){let[e,r]=(0,s.useState)(""),[n,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)(1),{data:u,isLoading:x,error:h}=(0,a.useSearchMovies)(e,c,n),g=(0,a.useAddToFavorites)(),v=(0,a.useRemoveFromFavorites)(),p=(0,s.useMemo)(()=>(null==u?void 0:u.data.totalResults)?Math.ceil(parseInt(u.data.totalResults,10)/10):0,[null==u?void 0:u.data.totalResults]),f=async e=>{if(!g.isPending&&!v.isPending)try{e.isFavorite?await v.mutateAsync(e.imdbID):await g.mutateAsync(e)}catch(e){console.error("Failed to toggle favorite:",e)}},b=g.isPending||v.isPending;return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-hero",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-3 mb-6",children:(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold bg-clip-text",children:"Movie Finder"})}),(0,t.jsx)(o,{onSearch:e=>{e&&0!==e.trim().length&&(r(e.trim()),d(!0),m(1))}})]}),x&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-primary border-r-transparent"}),(0,t.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Searching for movies..."})]}),h&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-xl text-red-500 mb-2",children:"Error loading movies"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:h.message})]}),!x&&!h&&(null==u?void 0:u.data.movies.length)===0&&!e&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Start Your Search"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Search for your favorite movies and add them to your favorites"})]}),!x&&!h&&(null==u?void 0:u.data.movies.length)===0&&e&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsxs)("p",{className:"text-xl text-muted-foreground",children:['No movies found for "',e,'"']})}),!x&&!h&&(null==u?void 0:u.data.movies)&&u.data.movies.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:u.data.movies.map(e=>{var s;return(0,t.jsx)(l.default,{movie:e,isFavorite:null!=(s=e.isFavorite)&&s,onToggleFavorite:f,disabled:b},e.imdbID)})}),p>1&&(0,t.jsx)(i.default,{currentPage:c,totalPages:p,onPageChange:e=>{e>=1&&e<=p&&(m(e),window.scrollTo({top:0,behavior:"smooth"}))}})]})]})})}}]);